"use strict";var e=require("react"),o=require("@nivo/core"),i=require("@nivo/axes"),n=require("@nivo/legends"),r=require("@nivo/tooltip"),t=require("d3-shape"),a=require("lodash/uniqueId.js"),l=require("@nivo/theming"),s=require("@nivo/colors"),u=require("@nivo/scales"),d=require("react/jsx-runtime"),c=require("@react-spring/web"),h=require("@nivo/voronoi");function f(){return f=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},f.apply(null,arguments)}function p(e,o){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==o.indexOf(n))continue;i[n]=e[n]}return i}var v,b={xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},curve:"linear",colors:{scheme:"nivo"},lineWidth:2,layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],enablePoints:!0,pointSize:6,pointColor:{from:"series.color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,enableGridX:!0,enableGridY:!0,legends:[],isInteractive:!0,tooltip:e.memo((function(e){var o=e.point;return d.jsx(r.BasicTooltip,{id:d.jsxs("span",{children:["x: ",d.jsx("strong",{children:o.data.xFormatted}),", y:"," ",d.jsx("strong",{children:o.data.yFormatted})]}),enableChip:!0,color:o.seriesColor})})),sliceTooltip:e.memo((function(e){var o=e.slice,i=e.axis,n=l.useTheme(),t="x"===i?"y":"x";return d.jsx(r.TableTooltip,{rows:o.points.map((function(e){return[d.jsx(r.Chip,{color:e.seriesColor,style:n.tooltip.chip},"chip"),e.seriesId,d.jsx("span",{style:n.tooltip.tableCellValue,children:e.data[t+"Formatted"]},"value")]}))})})),debugMesh:!1,renderWrapper:!0},x=f({},b,{defs:[],fill:[],enablePointLabel:!1,pointLabel:"data.yFormatted",areaBlendMode:"normal",axisTop:null,axisRight:null,axisBottom:i.defaultAxisProps,axisLeft:i.defaultAxisProps,useMesh:!1,enableSlices:!1,debugSlices:!1,enableCrosshair:!0,crosshairType:"bottom-left",enableTouchCrosshair:!1,initialHiddenIds:[],animate:!0,motionConfig:"gentle",role:"img",isFocusable:!1}),m=f({},b,{pixelRatio:"undefined"!=typeof window&&null!=(v=window.devicePixelRatio)?v:1,axisTop:null,axisRight:null,axisBottom:i.defaultAxisProps,axisLeft:i.defaultAxisProps});function g(i){return e.useMemo((function(){return t.line().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(o.curveFromProp(i))}),[i])}function y(i){var n=i.curve,r=i.yScale,a=i.areaBaselineValue;return e.useMemo((function(){return t.area().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(o.curveFromProp(n)).y0(r(a))}),[n,r,a])}var C=function(o){var i=o.componentId,n=o.enableSlices,r=o.points,t=o.width,a=o.height;return e.useMemo((function(){if("x"===n){var e=new Map;return r.forEach((function(o){null!==o.data.x&&null!==o.data.y&&(e.has(o.x)?e.get(o.x).push(o):e.set(o.x,[o]))})),Array.from(e.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,n){var r,l,s=e[0],u=e[1],d=n[o-1],c=n[o+1];return r=d?s-(s-d[0])/2:s,l=c?s-r+(c[0]-s)/2:t-r,{id:"slice:"+i+":"+s,x0:r,x:s,y0:0,y:0,width:l,height:a,points:u.reverse()}}))}if("y"===n){var o=new Map;return r.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(o.has(e.y)?o.get(e.y).push(e):o.set(e.y,[e]))})),Array.from(o.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,i){var n,r,l=e[0],s=e[1],u=i[o-1],d=i[o+1];return n=u?l-(l-u[0])/2:l,r=d?l-n+(d[0]-l)/2:a-n,{id:l,x0:0,x:0,y0:n,y:l,width:t,height:r,points:s.reverse()}}))}return[]}),[i,n,a,r,t])},M="line",S=function(i){var n=i.data,r=i.xScale,t=void 0===r?b.xScale:r,d=i.xFormat,c=i.yScale,h=void 0===c?b.yScale:c,p=i.yFormat,v=i.width,m=i.height,S=i.colors,k=void 0===S?b.colors:S,T=i.curve,w=void 0===T?b.curve:T,B=i.areaBaselineValue,L=void 0===B?b.areaBaselineValue:B,D=i.pointColor,W=void 0===D?b.pointColor:D,j=i.pointBorderColor,I=void 0===j?b.pointBorderColor:j,E=i.enableSlices,F=void 0===E?x.enableSlices:E,P=i.initialHiddenIds,R=void 0===P?x.initialHiddenIds:P,G=e.useState(a(M))[0],A=o.useValueFormatter(d),H=o.useValueFormatter(p),O=s.useOrdinalColorScale(k,"id"),V=l.useTheme(),z=s.useInheritedColor(W,V),Y=s.useInheritedColor(I,V),q=e.useState(null!=R?R:[]),U=q[0],X=q[1],_=e.useMemo((function(){return u.computeXYScalesForSeries(n.filter((function(e){return-1===U.indexOf(e.id)})),t,h,v,m)}),[n,U,t,h,v,m]),N=_.xScale,Q=_.yScale,J=_.series,K=e.useMemo((function(){var e=n.map((function(e){return{id:e.id,label:""+e.id,color:O(e)}})),o=e.map((function(e){return f({},J.find((function(o){return o.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return f({},e,{hidden:!o.find((function(o){return o.id===e.id}))})})).reverse(),series:o}}),[n,J,O]),Z=K.legendData,$=K.series,ee=e.useCallback((function(e){X((function(o){return o.indexOf(e)>-1?o.filter((function(o){return o!==e})):[].concat(o,[e])}))}),[]),oe=function(o){var i=o.series,n=o.getPointColor,r=o.getPointBorderColor,t=o.formatX,a=o.formatY;return e.useMemo((function(){return i.reduce((function(e,o,i){return[].concat(e,o.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(l,s){var u={id:o.id+"."+s,indexInSeries:s,absIndex:e.length+s,seriesIndex:i,seriesId:o.id,seriesColor:o.color,x:l.position.x,y:l.position.y,data:f({},l.data,{xFormatted:t(l.data.x),yFormatted:a(l.data.y)})};return u.color=n({series:o,point:u}),u.borderColor=r(u),u})))}),[])}),[i,n,r,t,a])}({series:$,getPointColor:z,getPointBorderColor:Y,formatX:A,formatY:H}),ie=C({componentId:G,enableSlices:F,points:oe,width:v,height:m});return{legendData:Z,toggleSeries:ee,lineGenerator:g(w),areaGenerator:y({curve:w,yScale:Q,areaBaselineValue:L}),getColor:O,series:$,xScale:N,yScale:Q,slices:ie,points:oe}},k=function(e){var i=e.areaBlendMode,n=e.areaOpacity,r=e.color,t=e.fill,a=e.path,l=o.useMotionConfig(),s=l.animate,u=l.config,h=o.useAnimatedPath(a),f=c.useSpring({color:r,config:u,immediate:!s});return d.jsx(c.animated.path,{d:h,fill:t||f.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:i}})},T=e.memo((function(e){var o=e.areaGenerator,i=e.areaOpacity,n=e.areaBlendMode,r=e.series.slice(0).reverse();return d.jsx("g",{children:r.map((function(e){return d.jsx(k,f({path:o(e.data.map((function(e){return e.position})))},f({areaOpacity:i,areaBlendMode:n},e)),""+e.id)}))})})),w=e.memo((function(i){var n=i.lineGenerator,r=i.points,t=i.color,a=i.thickness,l=e.useMemo((function(){return n(r)}),[n,r]),s=o.useAnimatedPath(l);return d.jsx(c.animated.path,{d:s,fill:"none",strokeWidth:a,stroke:t})})),B=e.memo((function(e){var o=e.series,i=e.lineGenerator,n=e.lineWidth;return d.jsx(d.Fragment,{children:o.slice(0).reverse().map((function(e){var o=e.id,r=e.data,t=e.color;return d.jsx(w,{points:r.map((function(e){return e.position})),lineGenerator:i,color:t,thickness:n},o)}))})})),L=e.memo((function(o){var i=o.slice,n=o.slices,t=o.axis,a=o.debug,l=o.tooltip,s=o.isCurrent,u=o.setCurrent,c=o.onMouseEnter,h=o.onMouseMove,f=o.onMouseLeave,p=o.onMouseDown,v=o.onMouseUp,b=o.onClick,x=o.onDoubleClick,m=o.onTouchStart,g=o.onTouchMove,y=o.onTouchEnd,C=r.useTooltip(),M=C.showTooltipFromEvent,S=C.hideTooltip,k=e.useCallback((function(o){M(e.createElement(l,{slice:i,axis:t}),o,"right"),u(i),null==c||c(i,o)}),[M,l,i,t,u,c]),T=e.useCallback((function(o){M(e.createElement(l,{slice:i,axis:t}),o,"right"),null==h||h(i,o)}),[M,l,i,t,h]),w=e.useCallback((function(e){S(),u(null),null==f||f(i,e)}),[S,u,f,i]),B=e.useCallback((function(e){null==p||p(i,e)}),[i,p]),L=e.useCallback((function(e){null==v||v(i,e)}),[i,v]),D=e.useCallback((function(e){null==b||b(i,e)}),[i,b]),W=e.useCallback((function(e){null==x||x(i,e)}),[i,x]),j=e.useCallback((function(o){M(e.createElement(l,{slice:i,axis:t}),o,"right"),u(i),null==m||m(i,o)}),[t,m,u,M,i,l]),I=e.useCallback((function(o){var r=o.touches[0],a=document.elementFromPoint(r.clientX,r.clientY),s=null==a?void 0:a.getAttribute("data-ref");if(s){var d=n.find((function(e){return e.id===s}));d&&(M(e.createElement(l,{slice:d,axis:t}),o,"right"),u(d))}null==g||g(i,o)}),[t,g,u,M,i,n,l]),E=e.useCallback((function(e){S(),u(null),null==y||y(i,e)}),[S,u,y,i]);return d.jsx("rect",{x:i.x0,y:i.y0,width:i.width,height:i.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&a?.35:0,onMouseEnter:k,onMouseMove:T,onMouseLeave:w,onMouseDown:B,onMouseUp:L,onClick:D,onDoubleClick:W,onTouchStart:j,onTouchMove:I,onTouchEnd:E,"data-ref":i.id})})),D=e.memo((function(e){var o=e.slices,i=e.axis,n=e.debug,r=e.tooltip,t=e.current,a=e.setCurrent,l=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,c=e.onMouseDown,h=e.onMouseUp,f=e.onClick,p=e.onDoubleClick,v=e.onTouchStart,b=e.onTouchMove,x=e.onTouchEnd;return d.jsx(d.Fragment,{children:o.map((function(e){return d.jsx(L,{slice:e,slices:o,axis:i,debug:n,tooltip:r,setCurrent:a,isCurrent:null!==t&&t.id===e.id,onMouseEnter:l,onMouseMove:s,onMouseLeave:u,onMouseDown:c,onMouseUp:h,onClick:f,onDoubleClick:p,onTouchStart:v,onTouchMove:b,onTouchEnd:x},e.id)}))})})),W=e.memo((function(i){var n=i.points,t=i.symbol,a=i.size,l=i.borderWidth,s=i.enableLabel,u=i.label,c=i.labelYOffset,h=i.isFocusable,f=i.setCurrentPoint,p=i.tooltip,v=i.margin,b=i.ariaLabel,x=i.ariaLabelledBy,m=i.ariaDescribedBy,g=i.ariaHidden,y=i.ariaDisabled,C=o.getLabelGenerator(u),M=r.useTooltip(),S=M.showTooltipAt,k=M.hideTooltip,T=n.slice(0).sort((function(e,o){return e.indexInSeries-o.indexInSeries})).sort((function(e,o){return o.seriesIndex-e.seriesIndex})).map((function(o){return{id:o.id,x:o.x,y:o.y,datum:o.data,fill:o.color,stroke:o.borderColor,label:s?C(o):null,ariaLabel:b?b(o):void 0,ariaLabelledBy:x?x(o):void 0,ariaDescribedBy:m?m(o):void 0,ariaHidden:g?g(o):void 0,ariaDisabled:y?y(o):void 0,onFocus:h?function(){f(o),S(e.createElement(p,{point:o}),[v.left+o.x,v.top+o.y],"top")}:void 0,onBlur:h?function(){f(null),k()}:void 0}}));return d.jsx("g",{children:T.map((function(e){return d.jsx(o.DotsItem,{x:e.x,y:e.y,datum:e.datum,symbol:t,size:a,color:e.fill,borderWidth:l,borderColor:e.stroke,label:e.label,labelYOffset:c,ariaLabel:e.ariaLabel,ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,ariaHidden:e.ariaHidden,ariaDisabled:e.ariaDisabled,isFocusable:h,onFocus:e.onFocus,onBlur:e.onBlur,testId:"line.point."+e.id},e.id)}))})})),j=e.memo((function(o){var i=o.points,n=o.width,t=o.height,a=o.margin,l=o.setCurrent,s=o.onMouseEnter,u=o.onMouseMove,c=o.onMouseLeave,f=o.onMouseDown,p=o.onMouseUp,v=o.onClick,b=o.onDoubleClick,x=o.onTouchStart,m=o.onTouchMove,g=o.onTouchEnd,y=o.tooltip,C=o.debug,M=o.enableTouchCrosshair,S=r.useTooltip(),k=S.showTooltipAt,T=S.hideTooltip,w=e.useCallback((function(o,i){k(e.createElement(y,{point:o}),[o.x+a.left,o.y+a.top],"top"),null==s||s(o,i)}),[k,y,s,a]),B=e.useCallback((function(o,i){k(e.createElement(y,{point:o}),[o.x+a.left,o.y+a.top],"top"),null==u||u(o,i)}),[k,y,a.left,a.top,u]),L=e.useCallback((function(e,o){T(),null==c||c(e,o)}),[T,c]),D=e.useCallback((function(e,o){null==f||f(e,o)}),[f]),W=e.useCallback((function(e,o){null==p||p(e,o)}),[p]),j=e.useCallback((function(e,o){null==v||v(e,o)}),[v]),I=e.useCallback((function(e,o){null==b||b(e,o)}),[b]),E=e.useCallback((function(o,i){k(e.createElement(y,{point:o}),[o.x+a.left,o.y+a.top],"top"),null==x||x(o,i)}),[a.left,a.top,x,k,y]),F=e.useCallback((function(o,i){k(e.createElement(y,{point:o}),[o.x+a.left,o.y+a.top],"top"),null==m||m(o,i)}),[a.left,a.top,m,k,y]),P=e.useCallback((function(e,o){T(),null==g||g(e,o)}),[g,T]);return d.jsx(h.Mesh,{nodes:i,width:n,height:t,setCurrent:l,onMouseEnter:w,onMouseMove:B,onMouseLeave:L,onMouseDown:D,onMouseUp:W,onClick:j,onDoubleClick:I,onTouchStart:E,onTouchMove:F,onTouchEnd:P,enableTouchCrosshair:M,debug:C})})),I=["isInteractive","animate","motionConfig","theme","renderWrapper"];function E(t){var a=t.data,l=t.xScale,s=void 0===l?x.xScale:l,u=t.xFormat,c=t.yScale,h=void 0===c?x.yScale:c,p=t.yFormat,v=t.curve,b=void 0===v?x.curve:v,m=t.margin,g=t.width,y=t.height,C=t.colors,M=void 0===C?x.colors:C,k=t.lineWidth,w=void 0===k?x.lineWidth:k,L=t.layers,I=void 0===L?x.layers:L,E=t.enableArea,F=void 0===E?x.enableArea:E,P=t.areaBaselineValue,R=void 0===P?x.areaBaselineValue:P,G=t.areaOpacity,A=void 0===G?x.areaOpacity:G,H=t.areaBlendMode,O=void 0===H?x.areaBlendMode:H,V=t.enablePoints,z=void 0===V?x.enablePoints:V,Y=t.pointSymbol,q=t.pointSize,U=void 0===q?x.pointSize:q,X=t.pointColor,_=void 0===X?x.pointColor:X,N=t.pointBorderWidth,Q=void 0===N?x.pointBorderWidth:N,J=t.pointBorderColor,K=void 0===J?x.pointBorderColor:J,Z=t.enablePointLabel,$=void 0===Z?x.enablePointLabel:Z,ee=t.pointLabel,oe=void 0===ee?x.pointLabel:ee,ie=t.pointLabelYOffset,ne=t.enableGridX,re=void 0===ne?x.enableGridX:ne,te=t.gridXValues,ae=t.enableGridY,le=void 0===ae?x.enableGridY:ae,se=t.gridYValues,ue=t.axisTop,de=t.axisRight,ce=t.axisBottom,he=void 0===ce?x.axisBottom:ce,fe=t.axisLeft,pe=void 0===fe?x.axisLeft:fe,ve=t.defs,be=void 0===ve?x.defs:ve,xe=t.fill,me=void 0===xe?x.fill:xe,ge=t.markers,ye=t.legends,Ce=void 0===ye?x.legends:ye,Me=t.isInteractive,Se=void 0===Me?x.isInteractive:Me,ke=t.useMesh,Te=void 0===ke?x.useMesh:ke,we=t.debugMesh,Be=void 0===we?x.debugMesh:we,Le=t.onMouseEnter,De=t.onMouseMove,We=t.onMouseLeave,je=t.onMouseDown,Ie=t.onMouseUp,Ee=t.onClick,Fe=t.onDoubleClick,Pe=t.onTouchStart,Re=t.onTouchMove,Ge=t.onTouchEnd,Ae=t.tooltip,He=void 0===Ae?x.tooltip:Ae,Oe=t.enableSlices,Ve=void 0===Oe?x.enableSlices:Oe,ze=t.debugSlices,Ye=void 0===ze?x.debugSlices:ze,qe=t.sliceTooltip,Ue=void 0===qe?x.sliceTooltip:qe,Xe=t.enableCrosshair,_e=void 0===Xe?x.enableCrosshair:Xe,Ne=t.crosshairType,Qe=void 0===Ne?x.crosshairType:Ne,Je=t.enableTouchCrosshair,Ke=void 0===Je?x.enableTouchCrosshair:Je,Ze=t.role,$e=void 0===Ze?x.role:Ze,eo=t.ariaLabel,oo=t.ariaLabelledBy,io=t.ariaDescribedBy,no=t.isFocusable,ro=void 0===no?x.isFocusable:no,to=t.pointAriaLabel,ao=t.pointAriaLabelledBy,lo=t.pointAriaDescribedBy,so=t.pointAriaHidden,uo=t.pointAriaDisabled,co=t.initialHiddenIds,ho=void 0===co?x.initialHiddenIds:co,fo=t.forwardedRef,po=o.useDimensions(g,y,m),vo=po.margin,bo=po.innerWidth,xo=po.innerHeight,mo=po.outerWidth,go=po.outerHeight,yo=S({data:a,xScale:s,xFormat:u,yScale:h,yFormat:p,width:bo,height:xo,colors:M,curve:b,areaBaselineValue:R,pointColor:_,pointBorderColor:K,enableSlices:Ve,initialHiddenIds:ho}),Co=yo.legendData,Mo=yo.toggleSeries,So=yo.lineGenerator,ko=yo.areaGenerator,To=yo.series,wo=yo.xScale,Bo=yo.yScale,Lo=yo.slices,Do=yo.points,Wo=e.useState(null),jo=Wo[0],Io=Wo[1],Eo=e.useState(null),Fo=Eo[0],Po=Eo[1],Ro={grid:null,markers:null,axes:null,areas:null,crosshair:null,lines:null,points:null,slices:null,mesh:null,legends:null};I.includes("grid")&&(re||le)&&(Ro.grid=d.jsx(i.Grid,{width:bo,height:xo,xScale:re?wo:null,yScale:le?Bo:null,xValues:te,yValues:se},"grid")),I.includes("markers")&&Array.isArray(ge)&&ge.length>0&&(Ro.markers=d.jsx(o.CartesianMarkers,{markers:ge,width:bo,height:xo,xScale:wo,yScale:Bo},"markers")),I.includes("axes")&&(Ro.axes=d.jsx(i.Axes,{xScale:wo,yScale:Bo,width:bo,height:xo,top:ue,right:de,bottom:he,left:pe},"axes")),I.includes("lines")&&(Ro.lines=d.jsx(B,{series:To,lineGenerator:So,lineWidth:w},"lines")),I.includes("legends")&&Ce.length>0&&(Ro.legends=d.jsx(e.Fragment,{children:Ce.map((function(e,o){return d.jsx(n.BoxLegendSvg,f({},e,{containerWidth:bo,containerHeight:xo,data:e.data||Co,toggleSerie:e.toggleSerie?Mo:void 0}),o)}))},"legends"));var Go=o.bindDefs(be,To,me);F&&(Ro.areas=d.jsx(T,{areaGenerator:ko,areaOpacity:A,areaBlendMode:O,series:To},"areas")),Se&&!1!==Ve&&(Ro.slices=d.jsx(D,{slices:Lo,axis:Ve,debug:Ye,tooltip:Ue,current:Fo,setCurrent:Po,onMouseEnter:Le,onMouseMove:De,onMouseLeave:We,onMouseDown:je,onMouseUp:Ie,onClick:Ee,onDoubleClick:Fe,onTouchStart:Pe,onTouchMove:Re,onTouchEnd:Ge},"slices")),z&&(Ro.points=d.jsx(W,{points:Do,symbol:Y,size:U,borderWidth:Q,enableLabel:$,label:oe,labelYOffset:ie,isFocusable:ro,setCurrentPoint:Io,tooltip:He,margin:vo,ariaLabel:to,ariaLabelledBy:ao,ariaDescribedBy:lo,ariaHidden:so,ariaDisabled:uo},"points")),Se&&_e&&(null!==jo&&(Ro.crosshair=d.jsx(r.Crosshair,{width:bo,height:xo,x:jo.x,y:jo.y,type:Qe},"crosshair")),null!==Fo&&Ve&&(Ro.crosshair=d.jsx(r.Crosshair,{width:bo,height:xo,x:Fo.x,y:Fo.y,type:Ve},"crosshair"))),Se&&Te&&!1===Ve&&(Ro.mesh=d.jsx(j,{points:Do,width:bo,height:xo,margin:vo,setCurrent:Io,onMouseEnter:Le,onMouseMove:De,onMouseLeave:We,onMouseDown:je,onMouseUp:Ie,onClick:Ee,onDoubleClick:Fe,onTouchStart:Pe,onTouchMove:Re,onTouchEnd:Ge,tooltip:He,enableTouchCrosshair:Ke,debug:Be},"mesh"));var Ao=f({},t,{innerWidth:bo,innerHeight:xo,series:To,slices:Lo,points:Do,xScale:wo,yScale:Bo,lineGenerator:So,areaGenerator:ko,currentPoint:jo,setCurrentPoint:Io,currentSlice:Fo,setCurrentSlice:Po});return d.jsx(o.SvgWrapper,{defs:Go,width:mo,height:go,margin:vo,role:$e,ariaLabel:eo,ariaLabelledBy:oo,ariaDescribedBy:io,isFocusable:ro,ref:fo,children:I.map((function(o,i){return"function"==typeof o?d.jsx(e.Fragment,{children:o(Ao)},i):Ro[o]}))})}var F=e.forwardRef((function(e,i){var n=e.isInteractive,r=void 0===n?x.isInteractive:n,t=e.animate,a=void 0===t?x.animate:t,l=e.motionConfig,s=void 0===l?x.motionConfig:l,u=e.theme,c=e.renderWrapper,h=p(e,I);return d.jsx(o.Container,{animate:a,isInteractive:r,motionConfig:s,renderWrapper:c,theme:u,children:d.jsx(E,f({isInteractive:r},h,{forwardedRef:i}))})})),P=["defaultWidth","defaultHeight","onResize","debounceResize"],R=e.forwardRef((function(e,i){var n=e.defaultWidth,r=e.defaultHeight,t=e.onResize,a=e.debounceResize,l=p(e,P);return d.jsx(o.ResponsiveWrapper,{defaultWidth:n,defaultHeight:r,onResize:t,debounceResize:a,children:function(e){var o=e.width,n=e.height;return d.jsx(F,f({width:o,height:n},l,{ref:i}))}})})),G=["isInteractive","renderWrapper","theme"],A=function(t){var a=t.width,s=t.height,u=t.margin,c=t.pixelRatio,p=void 0===c?m.pixelRatio:c,v=t.data,b=t.xScale,x=void 0===b?m.xScale:b,g=t.xFormat,y=t.yScale,C=void 0===y?m.yScale:y,M=t.yFormat,k=t.curve,T=void 0===k?m.curve:k,w=t.layers,B=void 0===w?m.layers:w,L=t.colors,D=void 0===L?m.colors:L,W=t.lineWidth,j=void 0===W?m.lineWidth:W,I=t.enableArea,E=void 0===I?m.enableArea:I,F=t.areaBaselineValue,P=void 0===F?m.areaBaselineValue:F,R=t.areaOpacity,G=void 0===R?m.areaOpacity:R,A=t.enablePoints,H=void 0===A?m.enablePoints:A,O=t.pointSize,V=void 0===O?m.pointSize:O,z=t.pointColor,Y=void 0===z?m.pointColor:z,q=t.pointBorderWidth,U=void 0===q?m.pointBorderWidth:q,X=t.pointBorderColor,_=void 0===X?m.pointBorderColor:X,N=t.enableGridX,Q=void 0===N?m.enableGridX:N,J=t.gridXValues,K=t.enableGridY,Z=void 0===K?m.enableGridY:K,$=t.gridYValues,ee=t.axisTop,oe=t.axisRight,ie=t.axisBottom,ne=void 0===ie?m.axisBottom:ie,re=t.axisLeft,te=void 0===re?m.axisLeft:re,ae=t.legends,le=void 0===ae?m.legends:ae,se=t.isInteractive,ue=void 0===se?m.isInteractive:se,de=t.debugMesh,ce=void 0===de?m.debugMesh:de,he=t.onMouseLeave,fe=t.onMouseDown,pe=t.onMouseUp,ve=t.onClick,be=t.onDoubleClick,xe=t.tooltip,me=void 0===xe?m.tooltip:xe,ge=t.role,ye=t.forwardedRef,Ce=e.useRef(null),Me=o.useDimensions(a,s,u),Se=Me.margin,ke=Me.innerWidth,Te=Me.innerHeight,we=Me.outerWidth,Be=Me.outerHeight,Le=l.useTheme(),De=e.useState(null),We=De[0],je=De[1],Ie=S({data:v,xScale:x,xFormat:g,yScale:C,yFormat:M,width:ke,height:Te,colors:D,curve:T,areaBaselineValue:P,pointColor:Y,pointBorderColor:_}),Ee=Ie.lineGenerator,Fe=Ie.areaGenerator,Pe=Ie.series,Re=Ie.xScale,Ge=Ie.yScale,Ae=Ie.points,He=e.useMemo((function(){return{innerWidth:ke,innerHeight:Te,series:Pe,points:Ae,xScale:Re,yScale:Ge,lineWidth:j,lineGenerator:Ee,areaGenerator:Fe,currentPoint:We,setCurrentPoint:je}}),[ke,Te,Pe,Ae,Re,Ge,j,Ee,Fe,We,je]),Oe=h.useVoronoiMesh({points:Ae,width:ke,height:Te,debug:ce}),Ve=Oe.delaunay,ze=Oe.voronoi;e.useEffect((function(){if(null!==Ce.current){Ce.current.width=we*p,Ce.current.height=Be*p;var e=Ce.current.getContext("2d");e.scale(p,p),e.fillStyle=Le.background,e.fillRect(0,0,we,Be),e.translate(Se.left,Se.top),B.forEach((function(o){var r;"function"==typeof o&&o(e,He);var t=null!=(r=Le.grid.line.strokeWidth)?r:0;if("grid"===o&&"string"!=typeof t&&t>0&&(e.lineWidth=t,e.strokeStyle=Le.grid.line.stroke,Q&&i.renderGridLinesToCanvas(e,{width:ke,height:Te,scale:Re,axis:"x",values:J}),Z&&i.renderGridLinesToCanvas(e,{width:ke,height:Te,scale:Ge,axis:"y",values:$})),"axes"===o&&i.renderAxesToCanvas(e,{xScale:Re,yScale:Ge,width:ke,height:Te,top:ee,right:oe,bottom:ne,left:te,theme:Le}),"areas"===o&&!0===E){e.save(),e.globalAlpha=G,Fe.context(e);for(var a=Pe.length-1;a>=0;a--)e.fillStyle=Pe[a].color,e.beginPath(),Fe(Pe[a].data.map((function(e){return e.position}))),e.fill();e.restore()}if("lines"===o&&(Ee.context(e),Pe.forEach((function(o){e.strokeStyle=o.color,e.lineWidth=j,e.beginPath(),Ee(o.data.map((function(e){return e.position}))),e.stroke()}))),"points"===o&&!0===H&&V>0&&Ae.forEach((function(o){e.fillStyle=o.color,e.beginPath(),e.arc(o.x,o.y,V/2,0,2*Math.PI),e.fill(),U>0&&(e.strokeStyle=o.borderColor,e.lineWidth=U,e.stroke())})),"mesh"===o&&!0===ce&&void 0!==ze&&(h.renderVoronoiToCanvas(e,ze),We&&h.renderVoronoiCellToCanvas(e,ze,We.absIndex)),"legends"===o){var l=Pe.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();le.forEach((function(o){n.renderLegendToCanvas(e,f({},o,{data:o.data||l,containerWidth:ke,containerHeight:Te,theme:Le}))}))}}))}}),[Ce,ke,we,Te,Be,Se.left,Se.top,p,B,Le,Ee,Pe,Re,Ge,Q,J,Z,$,ee,oe,ne,te,le,Ae,H,V,U,We,He,ce,E,Fe,G,j,ze]);var Ye=e.useCallback((function(e){if(!Ce.current)return null;var i=o.getRelativeCursor(Ce.current,e),n=i[0],r=i[1];if(!o.isCursorInRect(Se.left,Se.top,ke,Te,n,r))return null;var t=Ve.find(n-Se.left,r-Se.top);return Ae[t]}),[Ce,Se,ke,Te,Ve,Ae]),qe=r.useTooltip(),Ue=qe.showTooltipFromEvent,Xe=qe.hideTooltip,_e=e.useCallback((function(o){var i=Ye(o);je(i),i?Ue(e.createElement(me,{point:i}),o):Xe()}),[Ye,je,Ue,Xe,me]),Ne=e.useCallback((function(e){Xe(),je(null),We&&(null==he||he(We,e))}),[Xe,je,he,We]),Qe=e.useCallback((function(e){if(fe){var o=Ye(e);o&&fe(o,e)}}),[Ye,fe]),Je=e.useCallback((function(e){if(pe){var o=Ye(e);o&&pe(o,e)}}),[Ye,pe]),Ke=e.useCallback((function(e){if(ve){var o=Ye(e);o&&ve(o,e)}}),[Ye,ve]),Ze=e.useCallback((function(e){if(be){var o=Ye(e);o&&be(o,e)}}),[Ye,be]);return d.jsx("canvas",{ref:o.mergeRefs(Ce,ye),width:we*p,height:Be*p,style:{width:we,height:Be,cursor:ue?"auto":"normal"},onMouseEnter:ue?_e:void 0,onMouseMove:ue?_e:void 0,onMouseLeave:ue?Ne:void 0,onMouseDown:ue?Qe:void 0,onMouseUp:ue?Je:void 0,onClick:ue?Ke:void 0,onDoubleClick:ue?Ze:void 0,role:ge})},H=e.forwardRef((function(e,i){var n=e.isInteractive,r=e.renderWrapper,t=e.theme,a=p(e,G);return d.jsx(o.Container,{isInteractive:n,renderWrapper:r,theme:t,animate:!1,children:d.jsx(A,f({},a,{forwardedRef:i}))})})),O=["defaultWidth","defaultHeight","onResize","debounceResize"],V=e.forwardRef((function(e,i){var n=e.defaultWidth;e.defaultHeight;var r=e.onResize,t=e.debounceResize,a=p(e,O);return d.jsx(o.ResponsiveWrapper,{defaultWidth:n,defaultHeight:n,onResize:r,debounceResize:t,children:function(e){var o=e.width,n=e.height;return d.jsx(H,f({width:o,height:n},a,{ref:i}))}})}));exports.LINE_UNIQUE_ID_PREFIX=M,exports.Line=F,exports.LineCanvas=H,exports.ResponsiveLine=R,exports.ResponsiveLineCanvas=V,exports.canvasDefaultProps=m,exports.commonDefaultProps=b,exports.isPoint=function(e){return void 0!==e.seriesId},exports.isSliceData=function(e){return void 0!==e.points},exports.svgDefaultProps=x,exports.useAreaGenerator=y,exports.useLine=S,exports.useLineGenerator=g,exports.useSlices=C;
//# sourceMappingURL=nivo-line.cjs.js.map
