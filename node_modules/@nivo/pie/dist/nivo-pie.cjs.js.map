{"version":3,"file":"nivo-pie.cjs.js","sources":["../src/PieLegends.tsx","../src/props.ts","../src/PieTooltip.tsx","../src/hooks.ts","../src/Arcs.tsx","../src/Pie.tsx","../src/ResponsivePie.tsx","../src/PieCanvas.tsx","../src/ResponsivePieCanvas.tsx"],"sourcesContent":["import { BoxLegendSvg } from '@nivo/legends'\nimport { CompletePieSvgProps, DatumId, LegendDatum } from './types'\n\ninterface PieLegendsProps<RawDatum> {\n    width: number\n    height: number\n    legends: CompletePieSvgProps<RawDatum>['legends']\n    data: LegendDatum<RawDatum>[]\n    toggleSerie: (id: DatumId) => void\n}\n\nexport const PieLegends = <RawDatum,>({\n    width,\n    height,\n    legends,\n    data,\n    toggleSerie,\n}: PieLegendsProps<RawDatum>) => {\n    return (\n        <>\n            {legends.map((legend, i: number) => (\n                <BoxLegendSvg\n                    key={i}\n                    {...legend}\n                    containerWidth={width}\n                    containerHeight={height}\n                    data={legend.data ?? data}\n                    toggleSerie={legend.toggleSerie ? toggleSerie : undefined}\n                />\n            ))}\n        </>\n    )\n}\n","import { OrdinalColorScaleConfig } from '@nivo/colors'\nimport { ArcTransitionMode } from '@nivo/arcs'\nimport { PieTooltip } from './PieTooltip'\n\nexport const defaultProps = {\n    id: 'id',\n    value: 'value',\n    sortByValue: false,\n    innerRadius: 0,\n    padAngle: 0,\n    cornerRadius: 0,\n    layers: ['arcs', 'arcLinkLabels', 'arcLabels', 'legends'],\n    startAngle: 0,\n    endAngle: 360,\n    fit: true,\n    activeInnerRadiusOffset: 0,\n    activeOuterRadiusOffset: 0,\n    borderWidth: 0,\n    borderColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    },\n    enableArcLabels: true,\n    arcLabel: 'formattedValue',\n    arcLabelsSkipAngle: 0,\n    arcLabelsSkipRadius: 0,\n    arcLabelsRadiusOffset: 0.5,\n    arcLabelsTextColor: { theme: 'labels.text.fill' },\n    enableArcLinkLabels: true,\n    arcLinkLabel: 'id',\n    arcLinkLabelsSkipAngle: 0,\n    arcLinkLabelsOffset: 0,\n    arcLinkLabelsDiagonalLength: 16,\n    arcLinkLabelsStraightLength: 24,\n    arcLinkLabelsThickness: 1,\n    arcLinkLabelsTextOffset: 6,\n    arcLinkLabelsTextColor: { theme: 'labels.text.fill' },\n    arcLinkLabelsColor: { theme: 'axis.ticks.line.stroke' },\n    colors: { scheme: 'nivo' } as unknown as OrdinalColorScaleConfig,\n    defs: [],\n    fill: [],\n    isInteractive: true,\n    animate: true,\n    motionConfig: 'gentle',\n    transitionMode: 'innerRadius' as ArcTransitionMode,\n    tooltip: PieTooltip,\n    legends: [],\n    role: 'img',\n    pixelRatio: typeof window !== 'undefined' ? (window.devicePixelRatio ?? 1) : 1,\n}\n","import { BasicTooltip } from '@nivo/tooltip'\nimport { ComputedDatum } from './types'\n\nexport const PieTooltip = <RawDatum,>({ datum }: { datum: ComputedDatum<RawDatum> }) => (\n    <BasicTooltip\n        id={datum.id}\n        value={datum.formattedValue}\n        enableChip={true}\n        color={datum.color}\n    />\n)\n\nexport default PieTooltip\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { pie as d3Pie } from 'd3-shape'\nimport { useArcGenerator, computeArcBoundingBox } from '@nivo/arcs'\nimport {\n    degreesToRadians,\n    radiansToDegrees,\n    useValueFormatter,\n    usePropertyAccessor,\n} from '@nivo/core'\nimport { OrdinalColorScaleConfig, useOrdinalColorScale } from '@nivo/colors'\nimport { defaultProps } from './props'\nimport {\n    MayHaveLabel,\n    CompletePieSvgProps,\n    ComputedDatum,\n    DatumId,\n    PieArc,\n    PieCustomLayerProps,\n    LegendDatum,\n    CommonPieProps,\n} from './types'\n\n/**\n * Format data so that we get a consistent data structure.\n * It will also add the `formattedValue` and `color` property.\n */\nexport const useNormalizedData = <RawDatum extends MayHaveLabel>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    colors = defaultProps.colors as OrdinalColorScaleConfig<\n        Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'>\n    >,\n}: Pick<CompletePieSvgProps<RawDatum>, 'id' | 'value' | 'valueFormat' | 'colors'> & {\n    data: readonly RawDatum[]\n}): Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>[] => {\n    const getId = usePropertyAccessor<RawDatum, DatumId>(id)\n    const getValue = usePropertyAccessor<RawDatum, number>(value)\n    const formatValue = useValueFormatter<number>(valueFormat)\n\n    const getColor = useOrdinalColorScale<Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'>>(\n        colors,\n        'id'\n    )\n\n    return useMemo(\n        () =>\n            data.map(datum => {\n                const datumId = getId(datum)\n                const datumValue = getValue(datum)\n\n                const normalizedDatum: Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'> = {\n                    id: datumId,\n                    label: datum.label ?? datumId,\n                    hidden: false,\n                    value: datumValue,\n                    formattedValue: formatValue(datumValue),\n                    data: datum,\n                }\n\n                return {\n                    ...normalizedDatum,\n                    color: getColor(normalizedDatum),\n                }\n            }),\n        [data, getId, getValue, formatValue, getColor]\n    )\n}\n\n/**\n * Compute arcs, which don't depend yet on radius.\n */\nexport const usePieArcs = <RawDatum>({\n    data,\n    startAngle,\n    endAngle,\n    innerRadius,\n    outerRadius,\n    padAngle,\n    sortByValue,\n    activeId,\n    activeInnerRadiusOffset,\n    activeOuterRadiusOffset,\n    hiddenIds,\n    forwardLegendData,\n}: {\n    data: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>[]\n    // in degrees\n    startAngle: number\n    // in degrees\n    endAngle: number\n    // in pixels\n    innerRadius: number\n    // in pixels\n    outerRadius: number\n    padAngle: number\n    sortByValue: boolean\n    activeId: null | DatumId\n    activeInnerRadiusOffset: number\n    activeOuterRadiusOffset: number\n    hiddenIds: DatumId[]\n    forwardLegendData?: CommonPieProps<RawDatum>['forwardLegendData']\n}): {\n    dataWithArc: Omit<ComputedDatum<RawDatum>, 'fill'>[]\n    legendData: LegendDatum<RawDatum>[]\n} => {\n    const pie = useMemo(() => {\n        const innerPie = d3Pie<Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>>()\n            .value(d => d.value)\n            .startAngle(degreesToRadians(startAngle))\n            .endAngle(degreesToRadians(endAngle))\n            .padAngle(degreesToRadians(padAngle))\n\n        if (!sortByValue) {\n            innerPie.sortValues(null)\n        }\n\n        return innerPie\n    }, [startAngle, endAngle, padAngle, sortByValue])\n\n    const result = useMemo(() => {\n        const hiddenData = data.filter(item => !hiddenIds.includes(item.id))\n        const dataWithArc = pie(hiddenData).map(\n            (\n                arc: Omit<\n                    PieArc,\n                    'angle' | 'angleDeg' | 'innerRadius' | 'outerRadius' | 'thickness'\n                > & {\n                    data: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>\n                }\n            ) => {\n                const angle = Math.abs(arc.endAngle - arc.startAngle)\n\n                return {\n                    ...arc.data,\n                    arc: {\n                        index: arc.index,\n                        startAngle: arc.startAngle,\n                        endAngle: arc.endAngle,\n                        innerRadius:\n                            activeId === arc.data.id\n                                ? innerRadius - activeInnerRadiusOffset\n                                : innerRadius,\n                        outerRadius:\n                            activeId === arc.data.id\n                                ? outerRadius + activeOuterRadiusOffset\n                                : outerRadius,\n                        thickness: outerRadius - innerRadius,\n                        padAngle: arc.padAngle,\n                        angle,\n                        angleDeg: radiansToDegrees(angle),\n                    },\n                }\n            }\n        )\n        const legendData: LegendDatum<RawDatum>[] = data.map(item => ({\n            id: item.id,\n            label: item.label,\n            color: item.color,\n            hidden: hiddenIds.includes(item.id),\n            data: item,\n        }))\n\n        return { dataWithArc, legendData }\n    }, [\n        pie,\n        data,\n        hiddenIds,\n        activeId,\n        innerRadius,\n        activeInnerRadiusOffset,\n        outerRadius,\n        activeOuterRadiusOffset,\n    ])\n\n    // Forward the legends data if `forwardLegendData` is defined.\n    const legendData = result.legendData\n    const forwardLegendDataRef = useRef(forwardLegendData)\n    useEffect(() => {\n        if (typeof forwardLegendDataRef.current !== 'function') return\n        forwardLegendDataRef.current(legendData)\n    }, [forwardLegendDataRef, legendData])\n\n    return result\n}\n\n/**\n * Encapsulate the logic for defining/reading the active arc ID,\n * which can be either controlled (handled externally), or uncontrolled\n * (handled internally), we can optionally define a default value when\n * it's uncontrolled.\n */\nconst useActiveId = ({\n    activeId: activeIdFromProps,\n    onActiveIdChange,\n    defaultActiveId = null,\n}: {\n    activeId?: DatumId | null\n    onActiveIdChange?: (id: DatumId | null) => void\n    defaultActiveId?: DatumId | null\n}) => {\n    const isControlled = typeof activeIdFromProps != 'undefined'\n\n    const [internalActiveId, setInternalActiveId] = useState<DatumId | null>(\n        !isControlled ? defaultActiveId : null\n    )\n\n    const activeId = isControlled ? activeIdFromProps : internalActiveId\n\n    const setActiveId = useCallback(\n        (id: DatumId | null) => {\n            if (onActiveIdChange) {\n                onActiveIdChange(id)\n            }\n\n            if (!isControlled) {\n                setInternalActiveId(id)\n            }\n        },\n        [isControlled, onActiveIdChange, setInternalActiveId]\n    )\n\n    return { activeId, setActiveId }\n}\n\n/**\n * Compute pie layout using explicit radius/innerRadius,\n * expressed in pixels.\n */\nexport const usePie = <RawDatum>({\n    data,\n    radius,\n    innerRadius,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    sortByValue = defaultProps.sortByValue,\n    cornerRadius = defaultProps.cornerRadius,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n    activeId: activeIdFromProps,\n    onActiveIdChange,\n    defaultActiveId,\n    forwardLegendData,\n}: Pick<\n    Partial<CompletePieSvgProps<RawDatum>>,\n    | 'startAngle'\n    | 'endAngle'\n    | 'padAngle'\n    | 'sortByValue'\n    | 'cornerRadius'\n    | 'activeInnerRadiusOffset'\n    | 'activeOuterRadiusOffset'\n    | 'activeId'\n    | 'onActiveIdChange'\n    | 'defaultActiveId'\n    | 'forwardLegendData'\n> & {\n    data: Omit<ComputedDatum<RawDatum>, 'arc'>[]\n    radius: number\n    innerRadius: number\n}) => {\n    const { activeId, setActiveId } = useActiveId({\n        activeId: activeIdFromProps,\n        onActiveIdChange,\n        defaultActiveId,\n    })\n\n    const [hiddenIds, setHiddenIds] = useState<DatumId[]>([])\n    const pieArcs = usePieArcs({\n        data,\n        startAngle,\n        endAngle,\n        innerRadius,\n        outerRadius: radius,\n        padAngle,\n        sortByValue,\n        activeId,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n        hiddenIds,\n        forwardLegendData,\n    })\n\n    const toggleSerie = useCallback((id: DatumId) => {\n        setHiddenIds(state =>\n            state.indexOf(id) > -1 ? state.filter(item => item !== id) : [...state, id]\n        )\n    }, [])\n\n    const arcGenerator = useArcGenerator({ cornerRadius, padAngle: degreesToRadians(padAngle) })\n\n    return { ...pieArcs, arcGenerator, setActiveId, toggleSerie }\n}\n\n/**\n * Compute pie layout using a box to find radius/innerRadius,\n * expressed in ratio (0~1), can optionally use the `fit`\n * attribute to find the most space efficient layout.\n *\n * It also returns `centerX`/`centerY` as those can be altered\n * if `fit` is `true`.\n */\nexport const usePieFromBox = <RawDatum>({\n    data,\n    width,\n    height,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    sortByValue = defaultProps.sortByValue,\n    cornerRadius = defaultProps.cornerRadius,\n    fit = defaultProps.fit,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n    activeId: activeIdFromProps,\n    onActiveIdChange,\n    defaultActiveId,\n    forwardLegendData,\n}: Pick<\n    CompletePieSvgProps<RawDatum>,\n    | 'width'\n    | 'height'\n    | 'innerRadius'\n    | 'startAngle'\n    | 'endAngle'\n    | 'padAngle'\n    | 'sortByValue'\n    | 'cornerRadius'\n    | 'fit'\n    | 'activeInnerRadiusOffset'\n    | 'activeOuterRadiusOffset'\n> &\n    Pick<\n        Partial<CompletePieSvgProps<RawDatum>>,\n        'activeId' | 'onActiveIdChange' | 'defaultActiveId' | 'forwardLegendData'\n    > & {\n        data: Omit<ComputedDatum<RawDatum>, 'arc'>[]\n    }) => {\n    const { activeId, setActiveId } = useActiveId({\n        activeId: activeIdFromProps,\n        onActiveIdChange,\n        defaultActiveId,\n    })\n\n    const [hiddenIds, setHiddenIds] = useState<DatumId[]>([])\n    const computedProps = useMemo(() => {\n        let radius = Math.min(width, height) / 2\n        let innerRadius = radius * Math.min(innerRadiusRatio, 1)\n\n        let centerX = width / 2\n        let centerY = height / 2\n\n        let boundingBox\n        if (fit) {\n            const { points, ...box } = computeArcBoundingBox(\n                centerX,\n                centerY,\n                radius,\n                startAngle - 90,\n                endAngle - 90\n            )\n            const ratio = Math.min(width / box.width, height / box.height)\n\n            const adjustedBox: {\n                width: number\n                height: number\n                x?: number\n                y?: number\n            } = {\n                width: box.width * ratio,\n                height: box.height * ratio,\n            }\n            adjustedBox.x = (width - adjustedBox.width) / 2\n            adjustedBox.y = (height - adjustedBox.height) / 2\n\n            centerX = ((centerX - box.x) / box.width) * box.width * ratio + adjustedBox.x\n            centerY = ((centerY - box.y) / box.height) * box.height * ratio + adjustedBox.y\n\n            boundingBox = { box, ratio, points }\n\n            radius = radius * ratio\n            innerRadius = innerRadius * ratio\n        }\n\n        return {\n            centerX,\n            centerY,\n            radius,\n            innerRadius,\n            debug: boundingBox,\n        }\n    }, [width, height, innerRadiusRatio, startAngle, endAngle, fit])\n\n    const pieArcs = usePieArcs({\n        data,\n        startAngle,\n        endAngle,\n        innerRadius: computedProps.innerRadius,\n        outerRadius: computedProps.radius,\n        padAngle,\n        sortByValue,\n        activeId,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n        hiddenIds,\n        forwardLegendData,\n    })\n\n    const toggleSerie = useCallback((id: DatumId) => {\n        setHiddenIds(state =>\n            state.indexOf(id) > -1 ? state.filter(item => item !== id) : [...state, id]\n        )\n    }, [])\n\n    const arcGenerator = useArcGenerator({\n        cornerRadius,\n        padAngle: degreesToRadians(padAngle),\n    })\n\n    return {\n        arcGenerator,\n        activeId,\n        setActiveId,\n        toggleSerie,\n        ...pieArcs,\n        ...computedProps,\n    }\n}\n\n/**\n * Memoize the context to pass to custom layers.\n */\nexport const usePieLayerContext = <RawDatum>({\n    dataWithArc,\n    arcGenerator,\n    centerX,\n    centerY,\n    radius,\n    innerRadius,\n}: PieCustomLayerProps<RawDatum>): PieCustomLayerProps<RawDatum> =>\n    useMemo(\n        () => ({\n            dataWithArc,\n            arcGenerator,\n            centerX,\n            centerY,\n            radius,\n            innerRadius,\n        }),\n        [dataWithArc, arcGenerator, centerX, centerY, radius, innerRadius]\n    )\n","import { createElement, useMemo } from 'react'\nimport * as React from 'react'\nimport { ArcGenerator, ArcsLayer } from '@nivo/arcs'\nimport { useTooltip } from '@nivo/tooltip'\nimport { ComputedDatum, CompletePieSvgProps } from './types'\n\ninterface ArcsProps<RawDatum> {\n    center: [number, number]\n    data: ComputedDatum<RawDatum>[]\n    arcGenerator: ArcGenerator\n    borderWidth: CompletePieSvgProps<RawDatum>['borderWidth']\n    borderColor: CompletePieSvgProps<RawDatum>['borderColor']\n    isInteractive: CompletePieSvgProps<RawDatum>['isInteractive']\n    onClick?: CompletePieSvgProps<RawDatum>['onClick']\n    onMouseEnter?: CompletePieSvgProps<RawDatum>['onMouseEnter']\n    onMouseMove?: CompletePieSvgProps<RawDatum>['onMouseMove']\n    onMouseLeave?: CompletePieSvgProps<RawDatum>['onMouseLeave']\n    setActiveId: (id: null | string | number) => void\n    tooltip: CompletePieSvgProps<RawDatum>['tooltip']\n    transitionMode: CompletePieSvgProps<RawDatum>['transitionMode']\n}\n\nexport const Arcs = <RawDatum,>({\n    center,\n    data,\n    arcGenerator,\n    borderWidth,\n    borderColor,\n    isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    setActiveId,\n    tooltip,\n    transitionMode,\n}: ArcsProps<RawDatum>) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleClick = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            onClick?.(datum, event)\n        }\n    }, [isInteractive, onClick])\n\n    const handleMouseEnter = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n            setActiveId(datum.id)\n            onMouseEnter?.(datum, event)\n        }\n    }, [isInteractive, showTooltipFromEvent, setActiveId, onMouseEnter, tooltip])\n\n    const handleMouseMove = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n            onMouseMove?.(datum, event)\n        }\n    }, [isInteractive, showTooltipFromEvent, onMouseMove, tooltip])\n\n    const handleMouseLeave = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            hideTooltip()\n            setActiveId(null)\n            onMouseLeave?.(datum, event)\n        }\n    }, [isInteractive, hideTooltip, setActiveId, onMouseLeave])\n\n    return (\n        <ArcsLayer<ComputedDatum<RawDatum>>\n            center={center}\n            data={data}\n            arcGenerator={arcGenerator}\n            borderWidth={borderWidth}\n            borderColor={borderColor}\n            transitionMode={transitionMode}\n            onClick={handleClick}\n            onMouseEnter={handleMouseEnter}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n        />\n    )\n}\n","import { ReactNode, Fragment, createElement, forwardRef, Ref, ReactElement } from 'react'\nimport {\n    // @ts-expect-error no types\n    bindDefs,\n    useDimensions,\n    Container,\n    SvgWrapper,\n    WithChartRef,\n} from '@nivo/core'\nimport { ArcLabelsLayer, ArcLinkLabelsLayer } from '@nivo/arcs'\nimport { InheritedColorConfig } from '@nivo/colors'\nimport { PieLegends } from './PieLegends'\nimport { useNormalizedData, usePieFromBox, usePieLayerContext } from './hooks'\nimport { ComputedDatum, PieLayer, PieSvgProps, PieLayerId, MayHaveLabel } from './types'\nimport { defaultProps } from './props'\nimport { Arcs } from './Arcs'\n\nconst InnerPie = <RawDatum extends MayHaveLabel>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    sortByValue = defaultProps.sortByValue,\n    layers = defaultProps.layers as PieLayer<RawDatum>[],\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    fit = defaultProps.fit,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    cornerRadius = defaultProps.cornerRadius,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n    width,\n    height,\n    margin: partialMargin,\n    colors = defaultProps.colors,\n    borderWidth = defaultProps.borderWidth,\n    borderColor = defaultProps.borderColor as InheritedColorConfig<ComputedDatum<RawDatum>>,\n    enableArcLabels = defaultProps.enableArcLabels,\n    arcLabel = defaultProps.arcLabel,\n    arcLabelsSkipAngle = defaultProps.arcLabelsSkipAngle,\n    arcLabelsSkipRadius = defaultProps.arcLabelsSkipRadius,\n    arcLabelsTextColor = defaultProps.arcLabelsTextColor,\n    arcLabelsRadiusOffset = defaultProps.arcLabelsRadiusOffset,\n    arcLabelsComponent,\n    enableArcLinkLabels = defaultProps.enableArcLinkLabels,\n    arcLinkLabel = defaultProps.arcLinkLabel,\n    arcLinkLabelsSkipAngle = defaultProps.arcLinkLabelsSkipAngle,\n    arcLinkLabelsOffset = defaultProps.arcLinkLabelsOffset,\n    arcLinkLabelsDiagonalLength = defaultProps.arcLinkLabelsDiagonalLength,\n    arcLinkLabelsStraightLength = defaultProps.arcLinkLabelsStraightLength,\n    arcLinkLabelsThickness = defaultProps.arcLinkLabelsThickness,\n    arcLinkLabelsTextOffset = defaultProps.arcLinkLabelsTextOffset,\n    arcLinkLabelsTextColor = defaultProps.arcLinkLabelsTextColor,\n    arcLinkLabelsColor = defaultProps.arcLinkLabelsColor,\n    arcLinkLabelComponent,\n    defs = defaultProps.defs,\n    fill = defaultProps.fill,\n    isInteractive = defaultProps.isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    tooltip = defaultProps.tooltip,\n    activeId: activeIdFromProps,\n    onActiveIdChange,\n    defaultActiveId,\n    transitionMode = defaultProps.transitionMode,\n    legends = defaultProps.legends,\n    forwardLegendData,\n    role = defaultProps.role,\n    forwardedRef,\n}: PieSvgProps<RawDatum> & {\n    forwardedRef: Ref<SVGSVGElement>\n}) => {\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const normalizedData = useNormalizedData<RawDatum>({\n        data,\n        id,\n        value,\n        valueFormat,\n        colors,\n    })\n\n    const {\n        dataWithArc,\n        legendData,\n        arcGenerator,\n        centerX,\n        centerY,\n        radius,\n        innerRadius,\n        setActiveId,\n        toggleSerie,\n    } = usePieFromBox<RawDatum>({\n        data: normalizedData,\n        width: innerWidth,\n        height: innerHeight,\n        fit,\n        innerRadius: innerRadiusRatio,\n        startAngle,\n        endAngle,\n        padAngle,\n        sortByValue,\n        cornerRadius,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n        activeId: activeIdFromProps,\n        onActiveIdChange,\n        defaultActiveId,\n        forwardLegendData,\n    })\n\n    const boundDefs = bindDefs(defs, dataWithArc, fill)\n\n    const layerById: Record<PieLayerId, ReactNode> = {\n        arcs: null,\n        arcLinkLabels: null,\n        arcLabels: null,\n        legends: null,\n    }\n\n    if (layers.includes('arcs')) {\n        layerById.arcs = (\n            <Arcs<RawDatum>\n                key=\"arcs\"\n                center={[centerX, centerY]}\n                data={dataWithArc}\n                arcGenerator={arcGenerator}\n                borderWidth={borderWidth}\n                borderColor={borderColor}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                onMouseEnter={onMouseEnter}\n                onMouseMove={onMouseMove}\n                onMouseLeave={onMouseLeave}\n                setActiveId={setActiveId}\n                tooltip={tooltip}\n                transitionMode={transitionMode}\n            />\n        )\n    }\n\n    if (enableArcLinkLabels && layers.includes('arcLinkLabels')) {\n        layerById.arcLinkLabels = (\n            <ArcLinkLabelsLayer<ComputedDatum<RawDatum>>\n                key=\"arcLinkLabels\"\n                center={[centerX, centerY]}\n                data={dataWithArc}\n                label={arcLinkLabel}\n                skipAngle={arcLinkLabelsSkipAngle}\n                offset={arcLinkLabelsOffset}\n                diagonalLength={arcLinkLabelsDiagonalLength}\n                straightLength={arcLinkLabelsStraightLength}\n                strokeWidth={arcLinkLabelsThickness}\n                textOffset={arcLinkLabelsTextOffset}\n                textColor={arcLinkLabelsTextColor}\n                linkColor={arcLinkLabelsColor}\n                component={arcLinkLabelComponent}\n            />\n        )\n    }\n\n    if (enableArcLabels && layers.includes('arcLabels')) {\n        layerById.arcLabels = (\n            <ArcLabelsLayer<ComputedDatum<RawDatum>>\n                key=\"arcLabels\"\n                center={[centerX, centerY]}\n                data={dataWithArc}\n                label={arcLabel}\n                radiusOffset={arcLabelsRadiusOffset}\n                skipAngle={arcLabelsSkipAngle}\n                skipRadius={arcLabelsSkipRadius}\n                textColor={arcLabelsTextColor}\n                transitionMode={transitionMode}\n                component={arcLabelsComponent}\n            />\n        )\n    }\n\n    if (legends.length > 0 && layers.includes('legends')) {\n        layerById.legends = (\n            <PieLegends<RawDatum>\n                key=\"legends\"\n                width={innerWidth}\n                height={innerHeight}\n                data={legendData}\n                legends={legends}\n                toggleSerie={toggleSerie}\n            />\n        )\n    }\n\n    const layerContext = usePieLayerContext<RawDatum>({\n        dataWithArc,\n        arcGenerator,\n        centerX,\n        centerY,\n        radius,\n        innerRadius,\n    })\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            role={role}\n            ref={forwardedRef}\n        >\n            {layers.map((layer, i) => {\n                if (layerById[layer as PieLayerId] !== undefined) {\n                    return layerById[layer as PieLayerId]\n                }\n\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Pie = forwardRef(\n    <RawDatum extends MayHaveLabel>(\n        {\n            isInteractive = defaultProps.isInteractive,\n            animate = defaultProps.animate,\n            motionConfig = defaultProps.motionConfig,\n            theme,\n            renderWrapper,\n            ...otherProps\n        }: PieSvgProps<RawDatum>,\n        ref: Ref<SVGSVGElement>\n    ) => (\n        <Container\n            animate={animate}\n            isInteractive={isInteractive}\n            motionConfig={motionConfig}\n            renderWrapper={renderWrapper}\n            theme={theme}\n        >\n            <InnerPie<RawDatum> isInteractive={isInteractive} {...otherProps} forwardedRef={ref} />\n        </Container>\n    )\n) as <RawDatum extends MayHaveLabel>(\n    props: WithChartRef<PieSvgProps<RawDatum>, SVGSVGElement>\n) => ReactElement\n","import { forwardRef, Ref, ReactElement } from 'react'\nimport { ResponsiveWrapper, ResponsiveProps, WithChartRef } from '@nivo/core'\nimport { Pie } from './Pie'\nimport { PieSvgProps, MayHaveLabel } from './types'\n\nexport const ResponsivePie = forwardRef(\n    <RawDatum extends MayHaveLabel>(\n        {\n            defaultWidth,\n            defaultHeight,\n            onResize,\n            debounceResize,\n            ...props\n        }: ResponsiveProps<PieSvgProps<RawDatum>>,\n        ref: Ref<SVGSVGElement>\n    ) => (\n        <ResponsiveWrapper\n            defaultWidth={defaultWidth}\n            defaultHeight={defaultHeight}\n            onResize={onResize}\n            debounceResize={debounceResize}\n        >\n            {({ width, height }: { width: number; height: number }) => (\n                <Pie<RawDatum> width={width} height={height} {...props} ref={ref} />\n            )}\n        </ResponsiveWrapper>\n    )\n) as <RawDatum extends MayHaveLabel>(\n    props: WithChartRef<ResponsiveProps<PieSvgProps<RawDatum>>, SVGSVGElement>\n) => ReactElement\n","import {\n    createElement,\n    useEffect,\n    useMemo,\n    useRef,\n    MouseEvent,\n    forwardRef,\n    Ref,\n    ReactElement,\n} from 'react'\nimport { getRelativeCursor, useDimensions, Container, WithChartRef, mergeRefs } from '@nivo/core'\nimport { useTheme } from '@nivo/theming'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useInheritedColor, InheritedColorConfig } from '@nivo/colors'\nimport { useTooltip } from '@nivo/tooltip'\nimport {\n    Arc,\n    findArcUnderCursor,\n    useArcLabels,\n    drawCanvasArcLabels,\n    useArcLinkLabels,\n    drawCanvasArcLinkLabels,\n} from '@nivo/arcs'\nimport { useNormalizedData, usePieFromBox } from './hooks'\nimport { ComputedDatum, PieCanvasProps, MayHaveLabel } from './types'\nimport { defaultProps } from './props'\n\nconst InnerPieCanvas = <RawDatum extends MayHaveLabel>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    sortByValue = defaultProps.sortByValue,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    fit = defaultProps.fit,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    cornerRadius = defaultProps.cornerRadius,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n    width,\n    height,\n    margin: partialMargin,\n    pixelRatio = defaultProps.pixelRatio,\n    colors = defaultProps.colors,\n    borderWidth = defaultProps.borderWidth,\n    borderColor = defaultProps.borderColor as InheritedColorConfig<ComputedDatum<RawDatum>>,\n    enableArcLabels = defaultProps.enableArcLabels,\n    arcLabel = defaultProps.arcLabel,\n    arcLabelsSkipAngle = defaultProps.arcLabelsSkipAngle,\n    arcLabelsTextColor = defaultProps.arcLabelsTextColor,\n    arcLabelsRadiusOffset = defaultProps.arcLabelsRadiusOffset,\n    enableArcLinkLabels = defaultProps.enableArcLinkLabels,\n    arcLinkLabel = defaultProps.arcLinkLabel,\n    arcLinkLabelsSkipAngle = defaultProps.arcLinkLabelsSkipAngle,\n    arcLinkLabelsOffset = defaultProps.arcLinkLabelsOffset,\n    arcLinkLabelsDiagonalLength = defaultProps.arcLinkLabelsDiagonalLength,\n    arcLinkLabelsStraightLength = defaultProps.arcLinkLabelsStraightLength,\n    arcLinkLabelsThickness = defaultProps.arcLinkLabelsThickness,\n    arcLinkLabelsTextOffset = defaultProps.arcLinkLabelsTextOffset,\n    arcLinkLabelsTextColor = defaultProps.arcLinkLabelsTextColor,\n    arcLinkLabelsColor = defaultProps.arcLinkLabelsColor,\n    isInteractive = defaultProps.isInteractive,\n    onClick,\n    onMouseMove,\n    tooltip = defaultProps.tooltip,\n    activeId: activeIdFromProps,\n    onActiveIdChange,\n    defaultActiveId,\n    legends = defaultProps.legends,\n    forwardLegendData,\n    role,\n    forwardedRef,\n}: PieCanvasProps<RawDatum> & {\n    forwardedRef: Ref<HTMLCanvasElement>\n}) => {\n    const canvasEl = useRef<HTMLCanvasElement | null>(null)\n    const theme = useTheme()\n\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const normalizedData = useNormalizedData<RawDatum>({\n        data,\n        id,\n        value,\n        valueFormat,\n        colors,\n    })\n\n    const { dataWithArc, arcGenerator, centerX, centerY, radius, innerRadius, setActiveId } =\n        usePieFromBox<RawDatum>({\n            data: normalizedData,\n            width: innerWidth,\n            height: innerHeight,\n            fit,\n            innerRadius: innerRadiusRatio,\n            startAngle,\n            endAngle,\n            padAngle,\n            sortByValue,\n            cornerRadius,\n            activeInnerRadiusOffset,\n            activeOuterRadiusOffset,\n            activeId: activeIdFromProps,\n            onActiveIdChange,\n            defaultActiveId,\n            forwardLegendData,\n        })\n\n    const getBorderColor = useInheritedColor<ComputedDatum<RawDatum>>(borderColor, theme)\n\n    const arcLabels = useArcLabels<ComputedDatum<RawDatum>>({\n        data: dataWithArc,\n        label: arcLabel,\n        skipAngle: arcLabelsSkipAngle,\n        offset: arcLabelsRadiusOffset,\n        textColor: arcLabelsTextColor,\n    })\n\n    const arcLinkLabels = useArcLinkLabels<ComputedDatum<RawDatum>>({\n        data: dataWithArc,\n        skipAngle: arcLinkLabelsSkipAngle,\n        offset: arcLinkLabelsOffset,\n        diagonalLength: arcLinkLabelsDiagonalLength,\n        straightLength: arcLinkLabelsStraightLength,\n        label: arcLinkLabel,\n        linkColor: arcLinkLabelsColor,\n        textOffset: arcLinkLabelsTextOffset,\n        textColor: arcLinkLabelsTextColor,\n    })\n\n    useEffect(() => {\n        if (!canvasEl.current) return\n\n        canvasEl.current.width = outerWidth * pixelRatio\n        canvasEl.current.height = outerHeight * pixelRatio\n\n        const ctx = canvasEl.current.getContext('2d')!\n\n        ctx.scale(pixelRatio, pixelRatio)\n\n        ctx.fillStyle = theme.background\n        ctx.fillRect(0, 0, outerWidth, outerHeight)\n\n        ctx.save()\n        ctx.translate(margin.left, margin.top)\n        arcGenerator.context(ctx)\n\n        ctx.save()\n        ctx.translate(centerX, centerY)\n\n        dataWithArc.forEach(arc => {\n            ctx.beginPath()\n            ctx.fillStyle = arc.color\n\n            ctx.strokeStyle = getBorderColor(arc)\n            ctx.lineWidth = borderWidth\n\n            arcGenerator(arc.arc)\n\n            ctx.fill()\n\n            if (borderWidth > 0) {\n                ctx.stroke()\n            }\n        })\n\n        if (enableArcLinkLabels === true) {\n            drawCanvasArcLinkLabels<ComputedDatum<RawDatum>>(\n                ctx,\n                arcLinkLabels,\n                theme,\n                arcLinkLabelsThickness\n            )\n        }\n\n        if (enableArcLabels === true) {\n            drawCanvasArcLabels<ComputedDatum<RawDatum>>(ctx, arcLabels, theme)\n        }\n\n        // legends assume a box rather than a center,\n        // that's why we restore previously saved position here.\n        ctx.restore()\n        legends.forEach(legend => {\n            renderLegendToCanvas(ctx, {\n                ...legend,\n                data: dataWithArc,\n                containerWidth: innerWidth,\n                containerHeight: innerHeight,\n                theme,\n            })\n        })\n    }, [\n        canvasEl,\n        innerWidth,\n        innerHeight,\n        outerWidth,\n        outerHeight,\n        margin.top,\n        margin.left,\n        pixelRatio,\n        centerX,\n        centerY,\n        arcGenerator,\n        dataWithArc,\n        borderWidth,\n        getBorderColor,\n        enableArcLabels,\n        arcLabels,\n        enableArcLinkLabels,\n        arcLinkLabels,\n        arcLinkLabelsThickness,\n        legends,\n        theme,\n    ])\n\n    const arcs = useMemo(\n        () =>\n            dataWithArc.map(datum => ({\n                id: datum.id,\n                ...datum.arc,\n            })),\n        [dataWithArc]\n    )\n\n    const getArcFromMouse = (event: MouseEvent<HTMLCanvasElement>) => {\n        if (!canvasEl.current) return null\n\n        const [x, y] = getRelativeCursor(canvasEl.current, event)\n\n        const hoveredArc = findArcUnderCursor<Arc & { id: string | number }>(\n            margin.left + centerX,\n            margin.top + centerY,\n            radius,\n            innerRadius,\n            arcs,\n            x,\n            y\n        )\n\n        if (!hoveredArc) return null\n\n        return dataWithArc.find(datum => datum.id === hoveredArc.id)\n    }\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseHover = (event: MouseEvent<HTMLCanvasElement>) => {\n        const datum = getArcFromMouse(event)\n        if (datum) {\n            onMouseMove?.(datum, event)\n            setActiveId(datum.id)\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n        } else {\n            setActiveId(null)\n            hideTooltip()\n        }\n    }\n\n    const handleMouseLeave = () => {\n        hideTooltip()\n    }\n\n    const handleClick = (event: MouseEvent<HTMLCanvasElement>) => {\n        if (!onClick) return\n\n        const arc = getArcFromMouse(event)\n        if (arc) {\n            onClick(arc, event)\n        }\n    }\n\n    return (\n        <canvas\n            ref={mergeRefs(canvasEl, forwardedRef)}\n            width={outerWidth * pixelRatio}\n            height={outerHeight * pixelRatio}\n            style={{\n                width: outerWidth,\n                height: outerHeight,\n                cursor: isInteractive ? 'auto' : 'normal',\n            }}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n            role={role}\n        />\n    )\n}\n\nexport const PieCanvas = forwardRef(\n    <RawDatum extends MayHaveLabel>(\n        {\n            isInteractive = defaultProps.isInteractive,\n            theme,\n            renderWrapper,\n            ...otherProps\n        }: PieCanvasProps<RawDatum>,\n        ref: Ref<HTMLCanvasElement>\n    ) => (\n        <Container {...{ isInteractive, renderWrapper, theme }}>\n            <InnerPieCanvas<RawDatum>\n                isInteractive={isInteractive}\n                {...otherProps}\n                forwardedRef={ref}\n            />\n        </Container>\n    )\n) as <RawDatum extends MayHaveLabel>(\n    props: WithChartRef<PieCanvasProps<RawDatum>, HTMLCanvasElement>\n) => ReactElement\n","import { forwardRef, Ref, ReactElement } from 'react'\nimport { ResponsiveWrapper, ResponsiveProps, WithChartRef } from '@nivo/core'\nimport { PieCanvas } from './PieCanvas'\nimport { PieCanvasProps, MayHaveLabel } from './types'\n\nexport const ResponsivePieCanvas = forwardRef(\n    <RawDatum extends MayHaveLabel>(\n        {\n            defaultWidth,\n            defaultHeight,\n            onResize,\n            debounceResize,\n            ...props\n        }: ResponsiveProps<PieCanvasProps<RawDatum>>,\n        ref: Ref<HTMLCanvasElement>\n    ) => (\n        <ResponsiveWrapper\n            defaultWidth={defaultWidth}\n            defaultHeight={defaultHeight}\n            onResize={onResize}\n            debounceResize={debounceResize}\n        >\n            {({ width, height }: { width: number; height: number }) => (\n                <PieCanvas<RawDatum> width={width} height={height} {...props} ref={ref} />\n            )}\n        </ResponsiveWrapper>\n    )\n) as <RawDatum extends MayHaveLabel>(\n    props: WithChartRef<ResponsiveProps<PieCanvasProps<RawDatum>>, HTMLCanvasElement>\n) => ReactElement\n"],"names":["PieLegends","_ref","width","height","legends","data","toggleSerie","_jsx","_Fragment","children","map","legend","i","_legend$data","jsx","BoxLegendSvg","_extends","containerWidth","containerHeight","undefined","defaultProps","id","value","sortByValue","innerRadius","padAngle","cornerRadius","layers","startAngle","endAngle","fit","activeInnerRadiusOffset","activeOuterRadiusOffset","borderWidth","borderColor","from","modifiers","enableArcLabels","arcLabel","arcLabelsSkipAngle","arcLabelsSkipRadius","arcLabelsRadiusOffset","arcLabelsTextColor","theme","enableArcLinkLabels","arcLinkLabel","arcLinkLabelsSkipAngle","arcLinkLabelsOffset","arcLinkLabelsDiagonalLength","arcLinkLabelsStraightLength","arcLinkLabelsThickness","arcLinkLabelsTextOffset","arcLinkLabelsTextColor","arcLinkLabelsColor","colors","scheme","defs","fill","isInteractive","animate","motionConfig","transitionMode","tooltip","datum","BasicTooltip","formattedValue","enableChip","color","role","pixelRatio","window","_window$devicePixelRa","devicePixelRatio","useNormalizedData","_ref$id","_ref$value","valueFormat","_ref$colors","getId","usePropertyAccessor","getValue","formatValue","useValueFormatter","getColor","useOrdinalColorScale","useMemo","_datum$label","datumId","datumValue","normalizedDatum","label","hidden","usePieArcs","_ref2","outerRadius","activeId","hiddenIds","forwardLegendData","pie","innerPie","d3Pie","d","degreesToRadians","sortValues","result","hiddenData","filter","item","includes","dataWithArc","arc","angle","Math","abs","index","thickness","angleDeg","radiansToDegrees","legendData","forwardLegendDataRef","useRef","useEffect","current","useActiveId","_ref3","activeIdFromProps","onActiveIdChange","_ref3$defaultActiveId","defaultActiveId","isControlled","_useState","useState","internalActiveId","setInternalActiveId","setActiveId","useCallback","usePieFromBox","_ref5","_ref5$innerRadius","innerRadiusRatio","_ref5$startAngle","_ref5$endAngle","_ref5$padAngle","_ref5$sortByValue","_ref5$cornerRadius","_ref5$fit","_ref5$activeInnerRadi","_ref5$activeOuterRadi","_useActiveId2","_useState3","setHiddenIds","computedProps","boundingBox","radius","min","centerX","centerY","_computeArcBoundingBo","computeArcBoundingBox","points","box","_objectWithoutPropertiesLoose","_excluded","ratio","adjustedBox","x","y","debug","pieArcs","state","indexOf","concat","arcGenerator","useArcGenerator","usePieLayerContext","_ref6","Arcs","center","onClick","onMouseEnter","onMouseMove","onMouseLeave","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleClick","event","handleMouseEnter","createElement","handleMouseMove","handleMouseLeave","ArcsLayer","InnerPie","_ref$sortByValue","_ref$layers","_ref$startAngle","_ref$endAngle","_ref$padAngle","_ref$fit","_ref$innerRadius","_ref$cornerRadius","_ref$activeInnerRadiu","_ref$activeOuterRadiu","partialMargin","margin","_ref$borderWidth","_ref$borderColor","_ref$enableArcLabels","_ref$arcLabel","_ref$arcLabelsSkipAng","_ref$arcLabelsSkipRad","_ref$arcLabelsTextCol","_ref$arcLabelsRadiusO","arcLabelsComponent","_ref$enableArcLinkLab","_ref$arcLinkLabel","_ref$arcLinkLabelsSki","_ref$arcLinkLabelsOff","_ref$arcLinkLabelsDia","_ref$arcLinkLabelsStr","_ref$arcLinkLabelsThi","_ref$arcLinkLabelsTex","_ref$arcLinkLabelsTex2","_ref$arcLinkLabelsCol","arcLinkLabelComponent","_ref$defs","_ref$fill","_ref$isInteractive","_ref$tooltip","_ref$transitionMode","_ref$legends","_ref$role","forwardedRef","_useDimensions","useDimensions","outerWidth","outerHeight","innerWidth","innerHeight","normalizedData","_usePieFromBox","boundDefs","bindDefs","layerById","arcs","arcLinkLabels","arcLabels","ArcLinkLabelsLayer","skipAngle","offset","diagonalLength","straightLength","strokeWidth","textOffset","textColor","linkColor","component","ArcLabelsLayer","radiusOffset","skipRadius","length","layerContext","SvgWrapper","ref","layer","Fragment","Pie","forwardRef","_ref2$isInteractive","_ref2$animate","_ref2$motionConfig","renderWrapper","otherProps","Container","ResponsivePie","defaultWidth","defaultHeight","onResize","debounceResize","props","ResponsiveWrapper","InnerPieCanvas","_ref$pixelRatio","canvasEl","useTheme","getBorderColor","useInheritedColor","useArcLabels","useArcLinkLabels","ctx","getContext","scale","fillStyle","background","fillRect","save","translate","left","top","context","forEach","beginPath","strokeStyle","lineWidth","stroke","drawCanvasArcLinkLabels","drawCanvasArcLabels","restore","renderLegendToCanvas","getArcFromMouse","_getRelativeCursor","getRelativeCursor","hoveredArc","findArcUnderCursor","find","handleMouseHover","mergeRefs","style","cursor","PieCanvas","ResponsivePieCanvas","_ref4","_ref4$startAngle","_ref4$endAngle","_ref4$padAngle","_ref4$sortByValue","_ref4$cornerRadius","_ref4$activeInnerRadi","_ref4$activeOuterRadi","_useActiveId","_useState2"],"mappings":"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"}