"use strict";var t=require("react"),e=require("@react-spring/web"),o=require("@nivo/core"),i=require("@nivo/theming"),n=require("react/jsx-runtime");function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)({}).hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},r.apply(null,arguments)}var l=["basic","chip","container","table","tableCell","tableCellValue"],s={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},a=function(t,e){return"translate("+t+"px, "+e+"px)"},u=t.memo((function(u){var c,p=u.position,x=u.anchor,h=u.children,d=i.useTheme(),y=o.useMotionConfig(),f=y.animate,v=y.config,m=o.useMeasure(),b=m[0],g=m[1],T=t.useRef(!1),w=void 0,C=!1,j=g.width>0&&g.height>0,S=Math.round(p[0]),V=Math.round(p[1]);j&&("top"===x?(S-=g.width/2,V-=g.height+14):"right"===x?(S+=14,V-=g.height/2):"bottom"===x?(S-=g.width/2,V+=14):"left"===x?(S-=g.width+14,V-=g.height/2):"center"===x&&(S-=g.width/2,V-=g.height/2),w={transform:a(S,V)},T.current||(C=!0),T.current=[S,V]);var M=e.useSpring({to:w,config:v,immediate:!f||C}),P=d.tooltip;P.basic,P.chip,P.container,P.table,P.tableCell,P.tableCellValue;var E=function(t,e){if(null==t)return{};var o={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;o[i]=t[i]}return o}(P,l),k=r({},s,E,{transform:null!=(c=M.transform)?c:a(S,V),opacity:M.transform?1:0});return n.jsx(e.animated.div,{ref:b,style:k,children:h})}));u.displayName="TooltipWrapper";var c=t.memo((function(t){var e=t.size,o=void 0===e?12:e,i=t.color,l=t.style,s=void 0===l?{}:l;return n.jsx("span",{style:r({display:"block",width:o,height:o,background:i},s)})})),p=t.memo((function(t){var e,r=t.id,l=t.value,s=t.format,a=t.enableChip,u=void 0!==a&&a,p=t.color,x=t.renderContent,h=i.useTheme(),d=o.useValueFormatter(s);if("function"==typeof x)e=x();else{var y=l;void 0!==d&&void 0!==y&&(y=d(y)),e=n.jsxs("div",{style:h.tooltip.basic,children:[u&&n.jsx(c,{color:p,style:h.tooltip.chip}),void 0!==y?n.jsxs("span",{children:[r,": ",n.jsx("strong",{children:""+y})]}):r]})}return n.jsx("div",{style:h.tooltip.container,role:"tooltip",children:e})})),x={width:"100%",borderCollapse:"collapse"},h=t.memo((function(t){var e,o=t.title,l=t.rows,s=void 0===l?[]:l,a=t.renderContent,u=i.useTheme();return s.length?(e="function"==typeof a?a():n.jsxs("div",{children:[o&&o,n.jsx("table",{style:r({},x,u.tooltip.table),children:n.jsx("tbody",{children:s.map((function(t,e){return n.jsx("tr",{children:t.map((function(t,e){return n.jsx("td",{style:u.tooltip.tableCell,children:t},e)}))},e)}))})})]}),n.jsx("div",{style:u.tooltip.container,children:e})):null}));h.displayName="TableTooltip";var d=t.memo((function(l){var s=l.x0,a=l.x1,u=l.y0,c=l.y1,p=i.useTheme(),x=o.useMotionConfig(),h=x.animate,d=x.config,y=t.useMemo((function(){return r({},p.crosshair.line,{pointerEvents:"none"})}),[p.crosshair.line]),f=e.useSpring({x1:s,x2:a,y1:u,y2:c,config:d,immediate:!h});return n.jsx(e.animated.line,r({},f,{fill:"none",style:y}))}));d.displayName="CrosshairLine";var y=t.memo((function(t){var e,o,i=t.width,r=t.height,l=t.type,s=t.x,a=t.y;return"cross"===l?(e={x0:s,x1:s,y0:0,y1:r},o={x0:0,x1:i,y0:a,y1:a}):"top-left"===l?(e={x0:s,x1:s,y0:0,y1:a},o={x0:0,x1:s,y0:a,y1:a}):"top"===l?e={x0:s,x1:s,y0:0,y1:a}:"top-right"===l?(e={x0:s,x1:s,y0:0,y1:a},o={x0:s,x1:i,y0:a,y1:a}):"right"===l?o={x0:s,x1:i,y0:a,y1:a}:"bottom-right"===l?(e={x0:s,x1:s,y0:a,y1:r},o={x0:s,x1:i,y0:a,y1:a}):"bottom"===l?e={x0:s,x1:s,y0:a,y1:r}:"bottom-left"===l?(e={x0:s,x1:s,y0:a,y1:r},o={x0:0,x1:s,y0:a,y1:a}):"left"===l?o={x0:0,x1:s,y0:a,y1:a}:"x"===l?e={x0:s,x1:s,y0:0,y1:r}:"y"===l&&(o={x0:0,x1:i,y0:a,y1:a}),n.jsxs(n.Fragment,{children:[e&&n.jsx(d,{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1}),o&&n.jsx(d,{x0:o.x0,x1:o.x1,y0:o.y0,y1:o.y1})]})}));y.displayName="Crosshair";var f=t.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),v={isVisible:!1,position:[null,null],content:null,anchor:null},m=t.createContext(v),b=function(e){var o=t.useState(v),i=o[0],n=o[1],r=t.useCallback((function(t,e,o){var i=e[0],r=e[1];void 0===o&&(o="top"),n({isVisible:!0,position:[i,r],anchor:o,content:t})}),[n]),l=t.useCallback((function(t,o,i){void 0===i&&(i="top");var r=e.current.getBoundingClientRect(),l=e.current.offsetWidth,s=l===r.width?1:l/r.width,a="touches"in o?o.touches[0]:o,u=a.clientX,c=a.clientY,p=(u-r.left)*s,x=(c-r.top)*s;"left"!==i&&"right"!==i||(i=p<r.width/2?"right":"left"),n({isVisible:!0,position:[p,x],anchor:i,content:t})}),[e,n]),s=t.useCallback((function(){n(v)}),[n]);return{actions:t.useMemo((function(){return{showTooltipAt:r,showTooltipFromEvent:l,hideTooltip:s}}),[r,l,s]),state:i}},g=function(){var e=t.useContext(m);if(void 0===e)throw new Error("useTooltipState must be used within a TooltipProvider");return e},T=function(t){return t.isVisible};exports.BasicTooltip=p,exports.Chip=c,exports.Crosshair=y,exports.TableTooltip=h,exports.Tooltip=function(){var t=g();return T(t)?n.jsx(u,{position:t.position,anchor:t.anchor,children:t.content}):null},exports.TooltipActionsContext=f,exports.TooltipProvider=function(t){var e=t.container,o=t.children,i=b(e),r=i.actions,l=i.state;return n.jsx(f.Provider,{value:r,children:n.jsx(m.Provider,{value:l,children:o})})},exports.TooltipStateContext=m,exports.TooltipWrapper=u,exports.hiddenTooltipState=v,exports.isVisibleTooltipState=T,exports.useTooltip=function(){var e=t.useContext(f);if(void 0===e)throw new Error("useTooltip must be used within a TooltipProvider");return e},exports.useTooltipHandlers=b,exports.useTooltipState=g;
//# sourceMappingURL=nivo-tooltip.cjs.js.map
