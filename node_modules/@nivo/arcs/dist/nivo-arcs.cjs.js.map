{"version":3,"file":"nivo-arcs.cjs.js","sources":["../src/arc_labels/ArcLabel.tsx","../src/utils.ts","../src/arcTransitionMode.ts","../src/centers.ts","../src/arc_labels/index.ts","../src/arc_link_labels/ArcLinkLabel.tsx","../src/arc_link_labels/compute.ts","../src/arc_link_labels/useArcLinkLabelsTransition.ts","../src/arc_link_labels/useArcLinks.ts","../src/arc_link_labels/index.ts","../src/ArcShape.tsx","../src/interpolateArc.ts","../src/useArcsTransition.ts","../src/interactivity.ts","../src/arc_labels/ArcLabelsLayer.tsx","../src/ArcLine.tsx","../src/arc_link_labels/ArcLinkLabelsLayer.tsx","../src/ArcsLayer.tsx","../src/boundingBox.ts","../src/arc_labels/canvas.ts","../src/arc_link_labels/canvas.ts","../src/useAnimatedArc.ts","../src/useArcGenerator.ts","../src/arc_labels/useArcLabels.ts","../src/arc_link_labels/useArcLinkLabels.ts"],"sourcesContent":["import { CSSProperties } from 'react'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { useTheme } from '@nivo/theming'\nimport { Text } from '@nivo/text'\nimport { DatumWithArcAndColor } from '../types'\n\nconst staticStyle: CSSProperties = {\n    pointerEvents: 'none',\n}\n\nexport interface ArcLabelProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    label: string\n    style: {\n        progress: SpringValue<number>\n        transform: Interpolation<string>\n        textColor: string\n    }\n}\n\nexport const ArcLabel = <Datum extends DatumWithArcAndColor>({\n    label,\n    style,\n}: ArcLabelProps<Datum>) => {\n    const theme = useTheme()\n\n    return (\n        <animated.g transform={style.transform} opacity={style.progress} style={staticStyle}>\n            <Text\n                textAnchor=\"middle\"\n                dominantBaseline=\"central\"\n                style={{\n                    ...theme.labels.text,\n                    fill: style.textColor,\n                }}\n            >\n                {label}\n            </Text>\n        </animated.g>\n    )\n}\n","import { useMemo } from 'react'\nimport { radiansToDegrees, positionFromAngle, degreesToRadians } from '@nivo/core'\nimport { DatumWithArc } from './types'\n\n/**\n * Make sure an angle (expressed in radians)\n * always falls in the range 0~2*PI.\n */\nexport const getNormalizedAngle = (angle: number) => {\n    let normalizedAngle = angle % (Math.PI * 2)\n    if (normalizedAngle < 0) {\n        normalizedAngle += Math.PI * 2\n    }\n\n    return normalizedAngle\n}\n\n/**\n * Filter out arcs with a length below `skipAngle`.\n */\nexport const filterDataBySkipAngle = <Datum extends DatumWithArc>(\n    data: Datum[],\n    skipAngle: number\n) =>\n    data.filter(\n        datum => Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >= skipAngle\n    )\n\n/**\n * Memoized version of `filterDataBySkipAngle`.\n */\nexport const useFilteredDataBySkipAngle = <Datum extends DatumWithArc>(\n    data: Datum[],\n    skipAngle: number\n) => useMemo(() => filterDataBySkipAngle(data, skipAngle), [data, skipAngle])\n\nexport const svgEllipticalArcCommand = (\n    radius: number,\n    largeArcFlag: 0 | 1,\n    sweepFlag: 0 | 1,\n    x: number,\n    y: number\n) =>\n    [\n        'A',\n        radius,\n        radius,\n        0, // x-axis-rotation\n        largeArcFlag,\n        sweepFlag,\n        x,\n        y,\n    ].join(' ')\n\nexport const generateSvgArc = (\n    radius: number,\n    originalStartAngle: number,\n    originalEndAngle: number\n): string => {\n    const startAngle = Math.min(originalStartAngle, originalEndAngle)\n    const endAngle = Math.max(originalStartAngle, originalEndAngle)\n\n    const start = positionFromAngle(degreesToRadians(endAngle), radius)\n    const end = positionFromAngle(degreesToRadians(startAngle), radius)\n\n    // we have a full circle, we cannot use a single elliptical arc\n    // to draw it, so we use 2 in that case.\n    if (endAngle - startAngle >= 360) {\n        const mid = positionFromAngle(degreesToRadians(startAngle + 180), radius)\n\n        return [\n            `M ${start.x} ${start.y}`,\n            svgEllipticalArcCommand(radius, 1, 1, mid.x, mid.y),\n            `M ${start.x} ${start.y}`,\n            svgEllipticalArcCommand(radius, 1, 0, mid.x, mid.y),\n        ].join(' ')\n    }\n\n    const largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1\n\n    return [\n        `M ${start.x} ${start.y}`,\n        svgEllipticalArcCommand(radius, largeArcFlag, 0, end.x, end.y),\n    ].join(' ')\n}\n","import { Arc, DatumWithArc } from './types'\nimport { useMemo } from 'react'\n\nexport interface ArcTransitionModeConfig {\n    enter: (arc: Arc) => Arc\n    update: (arc: Arc) => Arc\n    leave: (arc: Arc) => Arc\n}\n\nexport const arcTransitionModes = [\n    'startAngle',\n    'middleAngle',\n    'endAngle',\n    'innerRadius',\n    'centerRadius',\n    'outerRadius',\n    'pushIn',\n    'pushOut',\n] as const\nexport type ArcTransitionMode = (typeof arcTransitionModes)[number]\n\nexport const arcTransitionModeById: Record<ArcTransitionMode, ArcTransitionModeConfig> = {\n    startAngle: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            endAngle: arc.startAngle,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            startAngle: arc.endAngle,\n        }),\n    },\n    middleAngle: {\n        enter: (arc: Arc) => {\n            const middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2\n\n            return {\n                ...arc,\n                startAngle: middleAngle,\n                endAngle: middleAngle,\n            }\n        },\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => {\n            const middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2\n\n            return {\n                ...arc,\n                startAngle: middleAngle,\n                endAngle: middleAngle,\n            }\n        },\n    },\n    endAngle: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            startAngle: arc.endAngle,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            endAngle: arc.startAngle,\n        }),\n    },\n    innerRadius: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            outerRadius: arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n        }),\n    },\n    centerRadius: {\n        enter: (arc: Arc) => {\n            const centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2\n\n            return {\n                ...arc,\n                innerRadius: centerRadius,\n                outerRadius: centerRadius,\n            }\n        },\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => {\n            const centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2\n\n            return {\n                ...arc,\n                innerRadius: centerRadius,\n                outerRadius: centerRadius,\n            }\n        },\n    },\n    outerRadius: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            outerRadius: arc.innerRadius,\n        }),\n    },\n    pushIn: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n            outerRadius: arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n            outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius,\n        }),\n    },\n    pushOut: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n            outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n            outerRadius: arc.innerRadius,\n        }),\n    },\n}\n\nexport interface TransitionExtra<\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, never>,\n> {\n    enter: (datum: Datum) => ExtraProps\n    update: (datum: Datum) => ExtraProps\n    leave: (datum: Datum) => ExtraProps\n}\n\nexport type ArcTransitionProps<ExtraProps extends Record<string, any> = Record<string, never>> =\n    Arc & {\n        progress: number\n    } & ExtraProps\n\nexport const useArcTransitionMode = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, never>,\n>(\n    mode: ArcTransitionMode,\n    extraTransition?: TransitionExtra<Datum, ExtraProps>\n) =>\n    useMemo(() => {\n        const transitionMode = arcTransitionModeById[mode]\n\n        return {\n            enter: (datum: Datum) =>\n                ({\n                    progress: 0,\n                    ...transitionMode.enter(datum.arc),\n                    ...(extraTransition ? extraTransition.enter(datum) : {}),\n                }) as ArcTransitionProps<ExtraProps>,\n            update: (datum: Datum) =>\n                ({\n                    progress: 1,\n                    ...transitionMode.update(datum.arc),\n                    ...(extraTransition ? extraTransition.update(datum) : {}),\n                }) as ArcTransitionProps<ExtraProps>,\n            leave: (datum: Datum) =>\n                ({\n                    progress: 0,\n                    ...transitionMode.leave(datum.arc),\n                    ...(extraTransition ? extraTransition.leave(datum) : {}),\n                }) as ArcTransitionProps<ExtraProps>,\n        }\n    }, [mode, extraTransition])\n","import { useMemo } from 'react'\nimport { useTransition, to, SpringValue, TransitionFn } from '@react-spring/web'\nimport { midAngle, positionFromAngle, useMotionConfig } from '@nivo/core'\nimport { Arc, DatumWithArc, Point } from './types'\nimport { filterDataBySkipAngle } from './utils'\nimport {\n    ArcTransitionMode,\n    ArcTransitionProps,\n    TransitionExtra,\n    useArcTransitionMode,\n} from './arcTransitionMode'\n\nexport const computeArcCenter = (arc: Arc, offset: number): Point => {\n    const angle = midAngle(arc) - Math.PI / 2\n    const radius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) * offset\n\n    return positionFromAngle(angle, radius)\n}\n\nexport const interpolateArcCenter =\n    (offset: number) =>\n    (\n        startAngleValue: SpringValue<number>,\n        endAngleValue: SpringValue<number>,\n        innerRadiusValue: SpringValue<number>,\n        outerRadiusValue: SpringValue<number>\n    ) =>\n        to(\n            [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n            (startAngle, endAngle, innerRadius, outerRadius) => {\n                const centroid = computeArcCenter(\n                    { startAngle, endAngle, innerRadius, outerRadius },\n                    offset\n                )\n\n                return `translate(${centroid.x},${centroid.y})`\n            }\n        )\n\nexport const useArcCentersTransition = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, never>,\n>(\n    data: Datum[],\n    // define where the centers should be placed,\n    // 0.0: inner radius\n    // 0.5: center\n    // 1.0: outer radius\n    offset = 0.5,\n    mode: ArcTransitionMode = 'innerRadius',\n    extra?: TransitionExtra<Datum, ExtraProps>\n) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const phases = useArcTransitionMode<Datum, ExtraProps>(mode, extra)\n\n    const transition = useTransition<Datum, ArcTransitionProps<ExtraProps>>(data, {\n        keys: datum => datum.id,\n        initial: phases.update,\n        from: phases.enter,\n        enter: phases.update,\n        update: phases.update,\n        leave: phases.leave,\n        config: springConfig,\n        immediate: !animate,\n    }) as unknown as TransitionFn<Datum, ArcTransitionProps<ExtraProps>>\n\n    return {\n        transition,\n        interpolate: interpolateArcCenter(offset),\n    }\n}\n\nexport interface ArcCenter<Datum extends DatumWithArc> extends Point {\n    data: Datum\n}\n\n/**\n * Compute an array of arc centers from an array of data containing arcs.\n *\n * If you plan to animate those, you could use `useArcCentersTransition`\n * instead, you could use the returned array with react-spring `useTransition`,\n * but this would lead to cartesian transitions (x/y), while `useArcCentersTransition`\n * will generate proper transitions using radius/angle.\n */\nexport const useArcCenters = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, never>,\n>({\n    data,\n    offset = 0.5,\n    skipAngle = 0,\n    computeExtraProps = () => ({}) as ExtraProps,\n}: {\n    data: Datum[]\n    // define where the centers should be placed,\n    // 0.0: inner radius\n    // 0.5: center\n    // 1.0: outer radius\n    offset?: number\n    // arcs with a length below this (end angle - start angle in degrees)\n    // are going to be excluded, this can typically be used to avoid having\n    // overlapping labels.\n    skipAngle?: number\n    // this can be used to append extra properties to the centers,\n    // can be used to compute a color/label for example.\n    computeExtraProps?: (datum: Datum) => ExtraProps\n}): (ArcCenter<Datum> & ExtraProps)[] =>\n    useMemo(\n        () =>\n            filterDataBySkipAngle<Datum>(data, skipAngle)\n                // compute position and extra props for each eligible datum\n                .map(datum => {\n                    const position = computeArcCenter(datum.arc, offset)\n\n                    return {\n                        ...computeExtraProps(datum),\n                        x: position.x,\n                        y: position.y,\n                        data: datum,\n                    }\n                }),\n        [data, offset, skipAngle, computeExtraProps]\n    )\n","import { ArcLabel } from './ArcLabel'\n\nexport const ArcLabelComponent = ArcLabel\nexport * from './ArcLabelsLayer'\nexport * from './canvas'\nexport * from './props'\nexport * from './useArcLabels'\n","import { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { useTheme } from '@nivo/theming'\nimport { Text } from '@nivo/text'\nimport { DatumWithArcAndColor } from '../types'\n\nexport interface ArcLinkLabelProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    label: string\n    style: {\n        path: Interpolation<string>\n        thickness: number\n        textPosition: Interpolation<string>\n        textAnchor: Interpolation<'start' | 'end'>\n        linkColor: SpringValue<string>\n        opacity: SpringValue<number>\n        textColor: SpringValue<string>\n    }\n}\n\nexport const ArcLinkLabel = <Datum extends DatumWithArcAndColor>({\n    label,\n    style,\n}: ArcLinkLabelProps<Datum>) => {\n    const theme = useTheme()\n\n    return (\n        <animated.g opacity={style.opacity}>\n            <animated.path\n                fill=\"none\"\n                stroke={style.linkColor}\n                strokeWidth={style.thickness}\n                d={style.path}\n            />\n            <Text\n                transform={style.textPosition}\n                textAnchor={style.textAnchor}\n                dominantBaseline=\"central\"\n                style={{\n                    ...theme.labels.text,\n                    fill: style.textColor,\n                }}\n            >\n                {label}\n            </Text>\n        </animated.g>\n    )\n}\n","import { positionFromAngle } from '@nivo/core'\nimport { Arc, Point } from '../types'\nimport { getNormalizedAngle } from '../utils'\nimport { ArcLink } from './types'\n\n/**\n * Compute text anchor for a given arc.\n *\n * `computeArcLink` already computes a `side`, but when using\n * `react-spring`, you cannot have a single interpolation\n * returning several output values, so we need to compute\n * them in separate interpolations.\n */\nexport const computeArcLinkTextAnchor = (arc: Arc): 'start' | 'end' => {\n    const centerAngle = getNormalizedAngle(\n        arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2\n    )\n\n    if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n        return 'start'\n    }\n\n    return 'end'\n}\n\n/**\n * Compute the link of a single arc, returning its points,\n * please note that points coordinates are relative to\n * the center of the arc.\n */\nexport const computeArcLink = (\n    arc: Arc,\n    offset: number,\n    diagonalLength: number,\n    straightLength: number\n): ArcLink => {\n    const centerAngle = getNormalizedAngle(\n        arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2\n    )\n    const point0: Point = positionFromAngle(centerAngle, arc.outerRadius + offset)\n    const point1: Point = positionFromAngle(centerAngle, arc.outerRadius + offset + diagonalLength)\n\n    let side: ArcLink['side']\n    let point2: Point\n    if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n        side = 'after'\n        point2 = {\n            x: point1.x + straightLength,\n            y: point1.y,\n        }\n    } else {\n        side = 'before'\n        point2 = {\n            x: point1.x - straightLength,\n            y: point1.y,\n        }\n    }\n\n    return {\n        side,\n        points: [point0, point1, point2],\n    }\n}\n","import { useMemo } from 'react'\nimport { SpringValue, useTransition, to } from '@react-spring/web'\nimport { line } from 'd3-shape'\nimport { useMotionConfig } from '@nivo/core'\nimport { useTheme } from '@nivo/theming'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor, Point } from '../types'\nimport { useFilteredDataBySkipAngle } from '../utils'\nimport { computeArcLink, computeArcLinkTextAnchor } from './compute'\n\nconst lineGenerator = line<Point>()\n    .x(d => d.x)\n    .y(d => d.y)\n\ntype AnimatedProps = {\n    startAngle: number\n    endAngle: number\n    innerRadius: number\n    outerRadius: number\n    offset: number\n    diagonalLength: number\n    straightLength: number\n    textOffset: number\n    linkColor: string\n    textColor: string\n    opacity: number\n}\n\nconst useTransitionPhases = <Datum extends DatumWithArcAndColor>({\n    offset,\n    diagonalLength,\n    straightLength,\n    textOffset,\n    getLinkColor,\n    getTextColor,\n}: Pick<AnimatedProps, 'offset' | 'diagonalLength' | 'straightLength' | 'textOffset'> & {\n    getLinkColor: (datum: Datum) => string\n    getTextColor: (datum: Datum) => string\n}): Record<'enter' | 'update' | 'leave', (datum: Datum) => AnimatedProps> =>\n    useMemo(\n        () => ({\n            enter: (datum: Datum) => ({\n                startAngle: datum.arc.startAngle,\n                endAngle: datum.arc.endAngle,\n                innerRadius: datum.arc.innerRadius,\n                outerRadius: datum.arc.outerRadius,\n                offset,\n                diagonalLength: 0,\n                straightLength: 0,\n                textOffset,\n                linkColor: getLinkColor(datum),\n                textColor: getTextColor(datum),\n                opacity: 0,\n            }),\n            update: (d: Datum) => ({\n                startAngle: d.arc.startAngle,\n                endAngle: d.arc.endAngle,\n                innerRadius: d.arc.innerRadius,\n                outerRadius: d.arc.outerRadius,\n                offset,\n                diagonalLength,\n                straightLength,\n                textOffset,\n                linkColor: getLinkColor(d),\n                textColor: getTextColor(d),\n                opacity: 1,\n            }),\n            leave: (d: Datum) => ({\n                startAngle: d.arc.startAngle,\n                endAngle: d.arc.endAngle,\n                innerRadius: d.arc.innerRadius,\n                outerRadius: d.arc.outerRadius,\n                offset,\n                diagonalLength: 0,\n                straightLength: 0,\n                textOffset,\n                linkColor: getLinkColor(d),\n                textColor: getTextColor(d),\n                opacity: 0,\n            }),\n        }),\n        [diagonalLength, straightLength, textOffset, getLinkColor, getTextColor, offset]\n    )\n\nconst interpolateLink = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>,\n    offsetValue: SpringValue<AnimatedProps['offset']>,\n    diagonalLengthValue: SpringValue<AnimatedProps['diagonalLength']>,\n    straightLengthValue: SpringValue<AnimatedProps['straightLength']>\n) =>\n    to(\n        [\n            startAngleValue,\n            endAngleValue,\n            innerRadiusValue,\n            outerRadiusValue,\n            offsetValue,\n            diagonalLengthValue,\n            straightLengthValue,\n        ],\n        (\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius,\n            offset,\n            diagonalLengthAnimated,\n            straightLengthAnimated\n        ) => {\n            const { points } = computeArcLink(\n                {\n                    startAngle,\n                    endAngle,\n                    innerRadius,\n                    outerRadius,\n                },\n                offset,\n                diagonalLengthAnimated,\n                straightLengthAnimated\n            )\n\n            return lineGenerator(points)\n        }\n    )\n\nconst interpolateTextAnchor = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            return computeArcLinkTextAnchor({\n                startAngle,\n                endAngle,\n                innerRadius,\n                outerRadius,\n            })\n        }\n    )\n\n/**\n * Interpolating the text position involves almost the same computation\n * as `interpolateLink`, unfortunately `react-spring` does not support\n * multiple output values from a single interpolation.\n *\n * We should revise this if `react-spring` adds this feature at some point.\n */\nconst interpolateTextPosition = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>,\n    offsetValue: SpringValue<AnimatedProps['offset']>,\n    diagonalLengthValue: SpringValue<AnimatedProps['diagonalLength']>,\n    straightLengthValue: SpringValue<AnimatedProps['straightLength']>,\n    textOffsetValue: SpringValue<AnimatedProps['textOffset']>\n) =>\n    to(\n        [\n            startAngleValue,\n            endAngleValue,\n            innerRadiusValue,\n            outerRadiusValue,\n            offsetValue,\n            diagonalLengthValue,\n            straightLengthValue,\n            textOffsetValue,\n        ],\n        (\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius,\n            offset,\n            diagonalLengthAnimated,\n            straightLengthAnimated,\n            textOffset\n        ) => {\n            const { points, side } = computeArcLink(\n                {\n                    startAngle,\n                    endAngle,\n                    innerRadius,\n                    outerRadius,\n                },\n                offset,\n                diagonalLengthAnimated,\n                straightLengthAnimated\n            )\n\n            const position = points[2]\n            if (side === 'before') {\n                position.x -= textOffset\n            } else {\n                position.x += textOffset\n            }\n\n            return `translate(${position.x},${position.y})`\n        }\n    )\n\n/**\n * This hook can be used to animate a group of arc link labels,\n * if you just want to compute the labels, please use `useArcLinkLabels`.\n */\nexport const useArcLinkLabelsTransition = <Datum extends DatumWithArcAndColor>({\n    data,\n    offset = 0,\n    diagonalLength,\n    straightLength,\n    skipAngle = 0,\n    textOffset,\n    linkColor,\n    textColor,\n}: {\n    data: Datum[]\n    offset?: number\n    diagonalLength: number\n    straightLength: number\n    skipAngle?: number\n    textOffset: number\n    linkColor: InheritedColorConfig<Datum>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const theme = useTheme()\n    const getLinkColor = useInheritedColor<Datum>(linkColor, theme)\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const filteredData = useFilteredDataBySkipAngle<Datum>(data, skipAngle)\n    const transitionPhases = useTransitionPhases<Datum>({\n        offset,\n        diagonalLength,\n        straightLength,\n        textOffset,\n        getLinkColor,\n        getTextColor,\n    })\n\n    const transition = useTransition<Datum, AnimatedProps>(filteredData, {\n        keys: datum => datum.id,\n        initial: transitionPhases.update,\n        from: transitionPhases.enter,\n        enter: transitionPhases.update,\n        update: transitionPhases.update,\n        leave: transitionPhases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolateLink,\n        interpolateTextAnchor,\n        interpolateTextPosition,\n    }\n}\n","import { useMemo } from 'react'\nimport { radiansToDegrees } from '@nivo/core'\nimport { DatumWithArc } from '../types'\nimport { ArcLinkWithDatum } from './types'\nimport { computeArcLink } from './compute'\n\n/**\n * Compute links for an array of data containing arcs.\n *\n * This is typically used to create labels for arcs,\n * and it's used for the `useArcLinkLabels` hook.\n */\nexport const useArcLinks = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, any>,\n>({\n    data,\n    skipAngle = 0,\n    offset = 0.5,\n    diagonalLength,\n    straightLength,\n    computeExtraProps = () => ({}) as ExtraProps,\n}: {\n    data: Datum[]\n    // arcs with a length below this (end angle - start angle in degrees)\n    // are going to be excluded, this can typically be used to avoid having\n    // overlapping labels.\n    skipAngle?: number\n    // offset from arc outer radius in pixels\n    offset?: number\n    // length of the diagonal segment of the link\n    diagonalLength: number\n    // length of the straight segment of the link\n    straightLength: number\n    // this can be used to append extra properties to the links,\n    // can be used to compute a color/label for example.\n    computeExtraProps?: (datum: ArcLinkWithDatum<Datum>) => ExtraProps\n}): (ArcLinkWithDatum<Datum> & ExtraProps)[] => {\n    const links = useMemo(\n        () =>\n            data\n                // filter out arcs with a length below `skipAngle`\n                .filter(\n                    datum =>\n                        Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >=\n                        skipAngle\n                )\n                // compute the link for each eligible arc\n                .map(datum => ({\n                    ...computeArcLink(datum.arc, offset, diagonalLength, straightLength),\n                    data: datum,\n                })),\n        [data, skipAngle, offset, diagonalLength, straightLength]\n    )\n\n    // splitting memoization of links and extra props can be more efficient,\n    // this way if only `computeExtraProps` changes, we skip links computation.\n    return useMemo(\n        () =>\n            links.map(link => ({\n                ...computeExtraProps(link),\n                ...link,\n            })),\n        [links, computeExtraProps]\n    )\n}\n","import { ArcLinkLabel } from './ArcLinkLabel'\n\nexport const ArcLinkLabelComponent = ArcLinkLabel\nexport * from './ArcLinkLabelsLayer'\nexport * from './canvas'\nexport * from './compute'\nexport * from './props'\nexport * from './types'\nexport * from './useArcLinkLabels'\nexport * from './useArcLinkLabelsTransition'\nexport * from './useArcLinks'\n","import { useCallback, MouseEvent } from 'react'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { DatumWithArcAndColor } from './types'\n\nexport type ArcMouseHandler<Datum extends DatumWithArcAndColor> = (\n    datum: Datum,\n    event: MouseEvent<SVGPathElement>\n) => void\n\nexport interface ArcShapeProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    style: {\n        opacity: SpringValue<number>\n        color: SpringValue<string>\n        borderWidth: number\n        borderColor: SpringValue<string>\n        path: Interpolation<string>\n    }\n    onClick?: ArcMouseHandler<Datum>\n    onMouseEnter?: ArcMouseHandler<Datum>\n    onMouseMove?: ArcMouseHandler<Datum>\n    onMouseLeave?: ArcMouseHandler<Datum>\n}\n\n/**\n * A simple arc component to be used typically with an `ArcsLayer`.\n *\n * Please note that the component accepts `SpringValue`s instead of\n * regular values to support animations.\n */\nexport const ArcShape = <Datum extends DatumWithArcAndColor>({\n    datum,\n    style,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n}: ArcShapeProps<Datum>) => {\n    const handleClick = useCallback(\n        (event: MouseEvent<SVGPathElement>) => onClick?.(datum, event),\n        [onClick, datum]\n    )\n\n    const handleMouseEnter = useCallback(\n        (event: MouseEvent<SVGPathElement>) => onMouseEnter?.(datum, event),\n        [onMouseEnter, datum]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: MouseEvent<SVGPathElement>) => onMouseMove?.(datum, event),\n        [onMouseMove, datum]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: MouseEvent<SVGPathElement>) => onMouseLeave?.(datum, event),\n        [onMouseLeave, datum]\n    )\n\n    return (\n        <animated.path\n            d={style.path}\n            opacity={style.opacity}\n            fill={datum.fill || style.color}\n            stroke={style.borderColor}\n            strokeWidth={style.borderWidth}\n            onClick={onClick ? handleClick : undefined}\n            onMouseEnter={onMouseEnter ? handleMouseEnter : undefined}\n            onMouseMove={onMouseMove ? handleMouseMove : undefined}\n            onMouseLeave={onMouseLeave ? handleMouseLeave : undefined}\n            data-testid={`arc.${datum.id}`}\n        />\n    )\n}\n","import { to, SpringValue } from '@react-spring/web'\nimport { ArcGenerator } from './types'\n\n/**\n * Directly animating paths for arcs leads to sub-optimal results\n * as the interpolation is going to be linear while we deal with polar coordinates,\n * this interpolator is going to generate proper arc transitions.\n * It should be used with the `useAnimatedArc` or `useArcsTransition` hooks.\n */\nexport const interpolateArc = (\n    startAngleValue: SpringValue<number>,\n    endAngleValue: SpringValue<number>,\n    innerRadiusValue: SpringValue<number>,\n    outerRadiusValue: SpringValue<number>,\n    arcGenerator: ArcGenerator\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            return arcGenerator({\n                startAngle,\n                endAngle,\n                innerRadius: Math.max(0, innerRadius),\n                outerRadius: Math.max(0, outerRadius),\n            })\n        }\n    )\n","import { TransitionFn, useTransition } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { DatumWithArc } from './types'\nimport {\n    ArcTransitionMode,\n    useArcTransitionMode,\n    TransitionExtra,\n    ArcTransitionProps,\n} from './arcTransitionMode'\nimport { interpolateArc } from './interpolateArc'\n\n/**\n * This hook can be used to animate a group of arcs,\n * if you want to animate a single arc,\n * please have a look at the `useAnimatedArc` hook.\n */\nexport const useArcsTransition = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, never>,\n>(\n    data: Datum[],\n    mode: ArcTransitionMode = 'innerRadius',\n    extra?: TransitionExtra<Datum, ExtraProps>\n) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const phases = useArcTransitionMode<Datum, ExtraProps>(mode, extra)\n\n    const transition = useTransition<Datum, ArcTransitionProps<ExtraProps>>(data, {\n        keys: datum => datum.id,\n        initial: phases.update,\n        from: phases.enter,\n        enter: phases.update,\n        update: phases.update,\n        leave: phases.leave,\n        config: springConfig,\n        immediate: !animate,\n    }) as unknown as TransitionFn<Datum, ArcTransitionProps<ExtraProps>>\n\n    return {\n        transition,\n        interpolate: interpolateArc,\n    }\n}\n","import { getDistance, getAngle } from '@nivo/core'\nimport { Arc } from './types'\n\n/**\n * Check if cursor is in given ring.\n */\nexport const isCursorInRing = (\n    centerX: number,\n    centerY: number,\n    radius: number,\n    innerRadius: number,\n    cursorX: number,\n    cursorY: number\n) => {\n    const distance = getDistance(cursorX, cursorY, centerX, centerY)\n\n    return distance < radius && distance > innerRadius\n}\n\n/**\n * Search for an arc being under cursor.\n */\nexport const findArcUnderCursor = <A extends Arc = Arc>(\n    centerX: number,\n    centerY: number,\n    radius: number,\n    innerRadius: number,\n    arcs: A[],\n    cursorX: number,\n    cursorY: number\n): A | undefined => {\n    if (!isCursorInRing(centerX, centerY, radius, innerRadius, cursorX, cursorY)) {\n        return undefined\n    }\n\n    const cursorAngle = getAngle(cursorX, cursorY, centerX, centerY)\n\n    return arcs.find(\n        ({ startAngle, endAngle }) => cursorAngle >= startAngle && cursorAngle < endAngle\n    )\n}\n","import { createElement, useMemo } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, radiansToDegrees } from '@nivo/core'\nimport { useTheme } from '@nivo/theming'\nimport { useInheritedColor } from '@nivo/colors'\nimport { useArcCentersTransition } from '../centers'\nimport { ArcTransitionMode } from '../arcTransitionMode'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLabelsProps } from './props'\nimport { ArcLabel, ArcLabelProps } from './ArcLabel'\n\nexport type ArcLabelComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcLabelProps<Datum>\n) => JSX.Element\n\ninterface ArcLabelsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    label: PropertyAccessor<Datum, string>\n    radiusOffset: ArcLabelsProps<Datum>['arcLabelsRadiusOffset']\n    skipAngle: ArcLabelsProps<Datum>['arcLabelsSkipAngle']\n    skipRadius: ArcLabelsProps<Datum>['arcLabelsSkipRadius']\n    textColor: ArcLabelsProps<Datum>['arcLabelsTextColor']\n    transitionMode: ArcTransitionMode\n    component?: ArcLabelsProps<Datum>['arcLabelsComponent']\n}\n\nexport const ArcLabelsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    transitionMode,\n    label: labelAccessor,\n    radiusOffset,\n    skipAngle,\n    skipRadius,\n    textColor,\n    component = ArcLabel,\n}: ArcLabelsLayerProps<Datum>) => {\n    const getLabel = usePropertyAccessor<Datum, string>(labelAccessor)\n    const theme = useTheme()\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const filteredData = useMemo(\n        () =>\n            data.filter(datum => {\n                const angle = Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle))\n                const radius = Math.abs(datum.arc.outerRadius - datum.arc.innerRadius)\n\n                return angle >= skipAngle && radius >= skipRadius\n            }),\n        [data, skipAngle, skipRadius]\n    )\n\n    const { transition, interpolate } = useArcCentersTransition<Datum>(\n        filteredData,\n        radiusOffset,\n        transitionMode\n    )\n\n    const Label: ArcLabelComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Label, {\n                    key: datum.id,\n                    datum,\n                    label: getLabel(datum),\n                    style: {\n                        progress: transitionProps.progress,\n                        transform: interpolate(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius\n                        ),\n                        textColor: getTextColor(datum),\n                    },\n                })\n            })}\n        </g>\n    )\n}\n","import { animated, to, AnimatedProps } from '@react-spring/web'\nimport { ExtractProps } from '@nivo/core'\nimport { generateSvgArc } from './utils'\n\ntype ArcLineProps = {\n    animated: AnimatedProps<{\n        radius: number\n        startAngle: number\n        endAngle: number\n        opacity: number\n    }>\n} & ExtractProps<typeof animated.path>\n\nexport const ArcLine = ({ animated: animatedProps, ...rest }: ArcLineProps) => (\n    <animated.path\n        d={to(\n            [animatedProps.radius, animatedProps.startAngle, animatedProps.endAngle],\n            (radius, start, end) => generateSvgArc(radius, start, end)\n        )}\n        {...rest}\n    />\n)\n","import { createElement } from 'react'\nimport { usePropertyAccessor } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { useArcLinkLabelsTransition } from './useArcLinkLabelsTransition'\nimport { ArcLinkLabelsProps } from './props'\nimport { ArcLinkLabel, ArcLinkLabelProps } from './ArcLinkLabel'\n\nexport type ArcLinkLabelComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcLinkLabelProps<Datum>\n) => JSX.Element\n\ninterface ArcLinkLabelsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    label: ArcLinkLabelsProps<Datum>['arcLinkLabel']\n    skipAngle: ArcLinkLabelsProps<Datum>['arcLinkLabelsSkipAngle']\n    offset: ArcLinkLabelsProps<Datum>['arcLinkLabelsOffset']\n    diagonalLength: ArcLinkLabelsProps<Datum>['arcLinkLabelsDiagonalLength']\n    straightLength: ArcLinkLabelsProps<Datum>['arcLinkLabelsStraightLength']\n    strokeWidth: ArcLinkLabelsProps<Datum>['arcLinkLabelsThickness']\n    textOffset: ArcLinkLabelsProps<Datum>['arcLinkLabelsTextOffset']\n    textColor: ArcLinkLabelsProps<Datum>['arcLinkLabelsTextColor']\n    linkColor: ArcLinkLabelsProps<Datum>['arcLinkLabelsColor']\n    component?: ArcLinkLabelComponent<Datum>\n}\n\nexport const ArcLinkLabelsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    label: labelAccessor,\n    skipAngle,\n    offset,\n    diagonalLength,\n    straightLength,\n    strokeWidth,\n    textOffset,\n    textColor,\n    linkColor,\n    component = ArcLinkLabel,\n}: ArcLinkLabelsLayerProps<Datum>) => {\n    const getLabel = usePropertyAccessor<Datum, string>(labelAccessor)\n\n    const { transition, interpolateLink, interpolateTextAnchor, interpolateTextPosition } =\n        useArcLinkLabelsTransition<Datum>({\n            data,\n            skipAngle,\n            offset,\n            diagonalLength,\n            straightLength,\n            textOffset,\n            linkColor,\n            textColor,\n        })\n\n    const Label: ArcLinkLabelComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Label, {\n                    key: datum.id,\n                    datum,\n                    label: getLabel(datum),\n                    style: {\n                        ...transitionProps,\n                        thickness: strokeWidth,\n                        path: interpolateLink(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            transitionProps.offset,\n                            transitionProps.diagonalLength,\n                            transitionProps.straightLength\n                        ),\n                        textAnchor: interpolateTextAnchor(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius\n                        ),\n                        textPosition: interpolateTextPosition(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            transitionProps.offset,\n                            transitionProps.diagonalLength,\n                            transitionProps.straightLength,\n                            transitionProps.textOffset\n                        ),\n                    },\n                })\n            })}\n        </g>\n    )\n}\n","import { createElement } from 'react'\nimport { useTheme } from '@nivo/theming'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor, ArcGenerator } from './types'\nimport { useArcsTransition } from './useArcsTransition'\nimport { ArcTransitionMode } from './arcTransitionMode'\nimport { ArcMouseHandler, ArcShape, ArcShapeProps } from './ArcShape'\n\nexport type ArcComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcShapeProps<Datum>\n) => JSX.Element\n\ninterface ArcsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    arcGenerator: ArcGenerator\n    borderWidth: number\n    borderColor: InheritedColorConfig<Datum>\n    onClick?: ArcMouseHandler<Datum>\n    onMouseEnter?: ArcMouseHandler<Datum>\n    onMouseMove?: ArcMouseHandler<Datum>\n    onMouseLeave?: ArcMouseHandler<Datum>\n    transitionMode: ArcTransitionMode\n    component?: ArcComponent<Datum>\n}\n\nexport const ArcsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    arcGenerator,\n    borderWidth,\n    borderColor,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    transitionMode,\n    component = ArcShape,\n}: ArcsLayerProps<Datum>) => {\n    const theme = useTheme()\n    const getBorderColor = useInheritedColor<Datum>(borderColor, theme)\n\n    const { transition, interpolate } = useArcsTransition<\n        Datum,\n        {\n            opacity: number\n            color: string\n            borderColor: string\n        }\n    >(data, transitionMode, {\n        enter: datum => ({\n            opacity: 0,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n        update: datum => ({\n            opacity: 1,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n        leave: datum => ({\n            opacity: 0,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n    })\n\n    const Arc: ArcComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Arc, {\n                    key: datum.id,\n                    datum,\n                    style: {\n                        ...transitionProps,\n                        borderWidth,\n                        path: interpolate(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            arcGenerator\n                        ),\n                    },\n                    onClick,\n                    onMouseEnter,\n                    onMouseMove,\n                    onMouseLeave,\n                })\n            })}\n        </g>\n    )\n}\n","import { positionFromAngle, degreesToRadians } from '@nivo/core'\n\n/**\n * Computes the bounding box for a circle arc.\n *\n * Assumptions:\n *   - Anywhere the arc intersects an axis will be a max or a min.\n *   - If the arc doesn't intersect an axis, then the center\n *     will be one corner of the bounding rectangle,\n *     and this is the only case when it will be.\n *   - The only other possible extreme points of the sector to consider\n *     are the endpoints of the radii.\n *\n * This script was built within the help of this answer on stackoverflow:\n *   https://stackoverflow.com/questions/1336663/2d-bounding-box-of-a-sector\n */\nexport const computeArcBoundingBox = (\n    centerX: number,\n    centerY: number,\n    radius: number,\n    // in degrees\n    startAngle: number,\n    // in degrees\n    endAngle: number,\n    includeCenter = true\n) => {\n    let points: [number, number][] = []\n\n    const p0 = positionFromAngle(degreesToRadians(startAngle), radius)\n    points.push([p0.x, p0.y])\n\n    const p1 = positionFromAngle(degreesToRadians(endAngle), radius)\n    points.push([p1.x, p1.y])\n\n    for (\n        let angle = Math.round(Math.min(startAngle, endAngle));\n        angle <= Math.round(Math.max(startAngle, endAngle));\n        angle++\n    ) {\n        if (angle % 90 === 0) {\n            const p = positionFromAngle(degreesToRadians(angle), radius)\n            points.push([p.x, p.y])\n        }\n    }\n\n    points = points.map(([x, y]) => [centerX + x, centerY + y])\n    if (includeCenter) {\n        points.push([centerX, centerY])\n    }\n\n    const xs = points.map(([x]) => x)\n    const ys = points.map(([, y]) => y)\n\n    const x0 = Math.min(...xs)\n    const x1 = Math.max(...xs)\n\n    const y0 = Math.min(...ys)\n    const y1 = Math.max(...ys)\n\n    return {\n        points,\n        x: x0,\n        y: y0,\n        width: x1 - x0,\n        height: y1 - y0,\n    }\n}\n","import { Theme } from '@nivo/theming'\nimport { setCanvasFont, drawCanvasText } from '@nivo/text'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLabel } from './useArcLabels'\n\nexport const drawCanvasArcLabels = <Datum extends DatumWithArcAndColor>(\n    ctx: CanvasRenderingContext2D,\n    labels: ArcLabel<Datum>[],\n    theme: Theme\n) => {\n    setCanvasFont(ctx, theme.labels.text)\n    ctx.textAlign = 'center'\n    ctx.textBaseline = 'middle'\n\n    labels.forEach(label => {\n        drawCanvasText(\n            ctx,\n            {\n                ...theme.labels.text,\n                fill: label.textColor,\n            },\n            String(label.label),\n            label.x,\n            label.y\n        )\n    })\n}\n","import {\n    // @ts-expect-error no types\n    textPropsByEngine,\n} from '@nivo/core'\nimport { Theme } from '@nivo/theming'\nimport { setCanvasFont, drawCanvasText } from '@nivo/text'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLinkLabel } from './types'\n\nexport const drawCanvasArcLinkLabels = <Datum extends DatumWithArcAndColor>(\n    ctx: CanvasRenderingContext2D,\n    labels: ArcLinkLabel<Datum>[],\n    theme: Theme,\n    strokeWidth: number\n) => {\n    ctx.textBaseline = 'middle'\n    setCanvasFont(ctx, theme.labels.text)\n\n    labels.forEach(label => {\n        ctx.textAlign = textPropsByEngine.canvas.align[label.textAnchor]\n        drawCanvasText(\n            ctx,\n            {\n                ...theme.labels.text,\n                fill: label.textColor,\n            },\n            String(label.label),\n            label.x,\n            label.y\n        )\n\n        ctx.beginPath()\n        ctx.strokeStyle = label.linkColor\n        ctx.lineWidth = strokeWidth\n        label.points.forEach((point, index) => {\n            if (index === 0) ctx.moveTo(point.x, point.y)\n            else ctx.lineTo(point.x, point.y)\n        })\n        ctx.stroke()\n    })\n}\n","import { useSpring } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { Arc, ArcGenerator } from './types'\nimport { interpolateArc } from './interpolateArc'\n\n/**\n * This hook can be used to animate a single arc,\n * if you want to animate a group of arcs,\n * please have a look at the `useArcsTransition` hook.\n */\nexport const useAnimatedArc = (datumWithArc: { arc: Arc }, arcGenerator: ArcGenerator) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedValues = useSpring({\n        startAngle: datumWithArc.arc.startAngle,\n        endAngle: datumWithArc.arc.endAngle,\n        innerRadius: datumWithArc.arc.innerRadius,\n        outerRadius: datumWithArc.arc.outerRadius,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        ...animatedValues,\n        path: interpolateArc(\n            animatedValues.startAngle,\n            animatedValues.endAngle,\n            animatedValues.innerRadius,\n            animatedValues.outerRadius,\n            arcGenerator\n        ),\n    }\n}\n","import { useMemo } from 'react'\nimport { arc as d3Arc } from 'd3-shape'\nimport { ArcGenerator, Arc } from './types'\n\n/**\n * Memoize a d3 arc generator.\n *\n * Please note that both inner/outer radius aren't static\n * and should come from the arc itself, while it requires\n * more props on the arcs, it provides more flexibility\n * because it's not limited to pie then but can also work\n * with charts such as sunbursts.\n */\nexport const useArcGenerator = ({\n    cornerRadius = 0,\n    padAngle = 0,\n}: {\n    cornerRadius?: number\n    padAngle?: number\n} = {}): ArcGenerator =>\n    useMemo(\n        () =>\n            d3Arc<Arc>()\n                .innerRadius(arc => arc.innerRadius)\n                .outerRadius(arc => arc.outerRadius)\n                .cornerRadius(cornerRadius)\n                .padAngle(padAngle),\n        [cornerRadius, padAngle]\n    )\n","import { useCallback } from 'react'\nimport { PropertyAccessor, usePropertyAccessor } from '@nivo/core'\nimport { useTheme } from '@nivo/theming'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor } from '../types'\nimport { useArcCenters, ArcCenter } from '../centers'\n\nexport interface ArcLabel<Datum extends DatumWithArcAndColor> extends ArcCenter<Datum> {\n    label: string\n    textColor: string\n}\n\n/**\n * Compute arc labels, please note that the datum should\n * contain a color in order to be able to compute the label text color.\n *\n * Please see `useArcCenters` for a more detailed explanation\n * about the parameters.\n */\nexport const useArcLabels = <Datum extends DatumWithArcAndColor>({\n    data,\n    offset,\n    skipAngle,\n    label,\n    textColor,\n}: {\n    data: Datum[]\n    offset?: number\n    skipAngle?: number\n    label: PropertyAccessor<Datum, string>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const getLabel = usePropertyAccessor<Datum, string>(label)\n\n    const theme = useTheme()\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const computeExtraProps = useCallback(\n        (datum: Datum) => {\n            return {\n                label: getLabel(datum),\n                textColor: getTextColor(datum),\n            }\n        },\n        [getLabel, getTextColor]\n    )\n\n    return useArcCenters<Datum, Omit<ArcLabel<Datum>, keyof ArcCenter<Datum>>>({\n        data,\n        offset,\n        skipAngle,\n        computeExtraProps,\n    })\n}\n","import { useCallback } from 'react'\nimport { PropertyAccessor, usePropertyAccessor } from '@nivo/core'\nimport { useTheme } from '@nivo/theming'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLinkWithDatum, ArcLinkLabel } from './types'\nimport { useArcLinks } from './useArcLinks'\n\n/**\n * Compute arc link labels, please note that the datum should\n * contain a color in order to be able to compute the link/label text color.\n *\n * Please see `useArcLinks` for a more detailed explanation\n * about the parameters.\n */\nexport const useArcLinkLabels = <Datum extends DatumWithArcAndColor>({\n    data,\n    skipAngle,\n    offset,\n    diagonalLength,\n    straightLength,\n    textOffset = 0,\n    label,\n    linkColor,\n    textColor,\n}: {\n    data: Datum[]\n    skipAngle?: number\n    offset?: number\n    diagonalLength: number\n    straightLength: number\n    textOffset: number\n    label: PropertyAccessor<Datum, string>\n    linkColor: InheritedColorConfig<Datum>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const getLabel = usePropertyAccessor<Datum, string>(label)\n\n    const theme = useTheme()\n    const getLinkColor = useInheritedColor<Datum>(linkColor, theme)\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const computeExtraProps = useCallback(\n        (link: ArcLinkWithDatum<Datum>) => {\n            const position = {\n                x: link.points[2].x,\n                y: link.points[2].y,\n            }\n            let textAnchor: ArcLinkLabel<Datum>['textAnchor']\n            if (link.side === 'before') {\n                position.x -= textOffset\n                textAnchor = 'end'\n            } else {\n                position.x += textOffset\n                textAnchor = 'start'\n            }\n\n            return {\n                ...position,\n                label: getLabel(link.data),\n                linkColor: getLinkColor(link.data),\n                textAnchor,\n                textColor: getTextColor(link.data),\n            }\n        },\n        [getLabel, getLinkColor, getTextColor, textOffset]\n    )\n\n    return useArcLinks<Datum, Omit<ArcLinkLabel<Datum>, keyof ArcLinkWithDatum<Datum>>>({\n        data,\n        skipAngle,\n        offset,\n        diagonalLength,\n        straightLength,\n        computeExtraProps,\n    })\n}\n"],"names":["staticStyle","pointerEvents","ArcLabel","_ref","label","style","theme","useTheme","_jsx","jsx","animated","g","transform","opacity","progress","children","Text","textAnchor","dominantBaseline","_extends","labels","text","fill","textColor","getNormalizedAngle","angle","normalizedAngle","Math","PI","filterDataBySkipAngle","data","skipAngle","filter","datum","abs","radiansToDegrees","arc","endAngle","startAngle","svgEllipticalArcCommand","radius","largeArcFlag","sweepFlag","x","y","join","arcTransitionModeById","enter","update","leave","middleAngle","innerRadius","outerRadius","centerRadius","pushIn","pushOut","useArcTransitionMode","mode","extraTransition","useMemo","transitionMode","computeArcCenter","offset","midAngle","positionFromAngle","interpolateArcCenter","startAngleValue","endAngleValue","innerRadiusValue","outerRadiusValue","to","centroid","useArcCentersTransition","extra","_useMotionConfig","useMotionConfig","animate","springConfig","config","phases","transition","useTransition","keys","id","initial","from","immediate","interpolate","useArcCenters","_ref$offset","_ref$skipAngle","_ref$computeExtraProp","computeExtraProps","map","position","ArcLabelComponent","ArcLinkLabel","_jsxs","jsxs","path","stroke","linkColor","strokeWidth","thickness","d","textPosition","computeArcLinkTextAnchor","centerAngle","computeArcLink","diagonalLength","straightLength","side","point2","point0","point1","points","lineGenerator","line","interpolateLink","offsetValue","diagonalLengthValue","straightLengthValue","diagonalLengthAnimated","straightLengthAnimated","interpolateTextAnchor","interpolateTextPosition","textOffsetValue","textOffset","_computeArcLink2","useArcLinkLabelsTransition","_ref2","_ref2$offset","_ref2$skipAngle","getLinkColor","useInheritedColor","getTextColor","filteredData","useFilteredDataBySkipAngle","transitionPhases","useTransitionPhases","useArcLinks","links","link","ArcLinkLabelComponent","ArcShape","onClick","onMouseEnter","onMouseMove","onMouseLeave","handleClick","useCallback","event","handleMouseEnter","handleMouseMove","handleMouseLeave","color","borderColor","borderWidth","undefined","interpolateArc","arcGenerator","max","useArcsTransition","isCursorInRing","centerX","centerY","cursorX","cursorY","distance","getDistance","center","labelAccessor","radiusOffset","skipRadius","_ref$component","component","getLabel","usePropertyAccessor","_useArcCentersTransit","Label","transitionProps","createElement","key","animatedProps","rest","_objectWithoutPropertiesLoose","_excluded","start","end","originalStartAngle","originalEndAngle","min","degreesToRadians","mid","generateSvgArc","_useArcLinkLabelsTran","getBorderColor","_useArcsTransition","Arc","includeCenter","p0","push","p1","round","p","xs","ys","_ref3","x0","apply","x1","y0","width","height","ctx","setCanvasFont","textAlign","textBaseline","forEach","drawCanvasText","String","textPropsByEngine","canvas","align","beginPath","strokeStyle","lineWidth","point","index","moveTo","lineTo","arcs","cursorAngle","getAngle","find","datumWithArc","animatedValues","useSpring","_temp","_ref$cornerRadius","cornerRadius","_ref$padAngle","padAngle","d3Arc","_ref$textOffset"],"mappings":"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"}